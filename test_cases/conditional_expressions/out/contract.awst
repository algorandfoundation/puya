contract MyContract
{
  approval_program(): puyapy.UInt64
  {
    a: puyapy.UInt64 = 1u
    b: puyapy.UInt64 = 2u
    c: puyapy.UInt64 = (reinterpret_cast<bool>(a)) ? (a) : (b)
    d: puyapy.UInt64 = (!(reinterpret_cast<bool>(b))) ? (b) : (a)
    e: puyapy.UInt64 = (reinterpret_cast<bool>(SINGLE_EVAL(id=0, source=this::expensive_op(0u)))) ? (SINGLE_EVAL(id=0, source=this::expensive_op(0u))) : (this::side_effecting_op(1u))
    f: puyapy.UInt64 = (reinterpret_cast<bool>(SINGLE_EVAL(id=1, source=this::expensive_op(3u)))) ? (SINGLE_EVAL(id=1, source=this::expensive_op(3u))) : (this::side_effecting_op(42u))
    g: puyapy.UInt64 = (!(reinterpret_cast<bool>(SINGLE_EVAL(id=2, source=this::side_effecting_op(0u))))) ? (SINGLE_EVAL(id=2, source=this::side_effecting_op(0u))) : (this::expensive_op(42u))
    h: puyapy.UInt64 = (!(reinterpret_cast<bool>(SINGLE_EVAL(id=3, source=this::side_effecting_op(2u))))) ? (SINGLE_EVAL(id=3, source=this::side_effecting_op(2u))) : (this::expensive_op(3u))
    i: puyapy.UInt64 = (b < c) ? (a) : (d + e)
    result: puyapy.UInt64 = a * b * c * d * f * h - e - g + i
    log(itob(result))
    return result
  }
  
  clear_state_program(): puyapy.UInt64
  {
    return 0u
  }
  
  subroutine expensive_op(val: puyapy.UInt64): puyapy.UInt64
  {
    assert(val != 42u, comment="Can't be 42")
    log('expensive_op')
    return val
  }
  
  subroutine side_effecting_op(val: puyapy.UInt64): puyapy.UInt64
  {
    assert(val != 42u, comment="Can't be 42")
    log('side_effecting_op')
    return val
  }
}
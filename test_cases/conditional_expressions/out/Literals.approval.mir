// Op                                                                    //                                                      Op Description                                            Stack (out)                                                     Live (out)            X stack                                                     Source code                                                                 Source line

#pragma version 10

// test_cases.conditional_expressions.literals.Literals.approval_program() -> uint64:
main_block@0:
    int 0                                                                //                                                                                                                0                                                                                                                                                 False                                                                       conditional_expressions/literals.py:6
    callsub with_variable_condition                                      //                                                                                                                                                                                                                                                                  self.with_variable_condition(condition=False)                               conditional_expressions/literals.py:6
    int 1                                                                //                                                                                                                1                                                                                                                                                 True                                                                        conditional_expressions/literals.py:7
    callsub with_variable_condition                                      //                                                                                                                                                                                                                                                                  self.with_variable_condition(condition=True)                                conditional_expressions/literals.py:7
    int 1                                                                //                                                                                                                1                                                                                                                                                 True                                                                        conditional_expressions/literals.py:9
    return                                                               //                                                                                                                                                                                                                                                                  return True                                                                 conditional_expressions/literals.py:9


// test_cases.conditional_expressions.literals.Literals.with_variable_condition(condition: uint64) -> void:
with_variable_condition:
    proto 1 0                                                            //                                                                                                                (洧도) condition#0 |                                                                                                                                 @subroutine\ndef with_variable_condition(self, *, condition: bool) -> None: conditional_expressions/literals.py:14-15
    byte ""
    dup                                                                  //                                                      allocate 2 to stack                                       (洧도) condition#0 | (洧뎽) x#0,y#0 |

with_variable_condition_block@0:
    frame_dig -1                                                         //                                                      load condition#0 from parameters                          (洧도) condition#0 | (洧뎽) x#0,y#0 | condition#0                                                                                                       1 if condition else 0                                                       conditional_expressions/literals.py:16
    bz with_variable_condition_ternary_false@2                           //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   1 if condition else 0                                                       conditional_expressions/literals.py:16
    // Implicit fall through to with_variable_condition_ternary_true@1   //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   1 if condition else 0                                                       conditional_expressions/literals.py:16

with_variable_condition_ternary_true@1:
    int 1                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 1                                                                                                                 UInt64(1 if condition else 0)                                               conditional_expressions/literals.py:16
    //                                                                   virtual: store ternary_result%0#0 to l-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | ternary_result%0#0                                                                                              UInt64(1 if condition else 0)                               conditional_expressions/literals.py:16
    //                                                                   virtual: load ternary_result%0#0 from l-stack (no copy) (洧도) condition#0 | (洧뎽) x#0,y#0 | ternary_result%0#0
    frame_bury 0                                                         //                                                      store x#0 to f-stack                                      (洧도) condition#0 | (洧뎽) x#0,y#0 |
    b with_variable_condition_ternary_merge@3                            //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |

with_variable_condition_ternary_false@2:
    int 0                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 0                                                                                                                 UInt64(1 if condition else 0)                                               conditional_expressions/literals.py:16
    //                                                                   virtual: store ternary_result%0#0 to l-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | ternary_result%0#0                                                                                              UInt64(1 if condition else 0)                               conditional_expressions/literals.py:16
    //                                                                   virtual: load ternary_result%0#0 from l-stack (no copy) (洧도) condition#0 | (洧뎽) x#0,y#0 | ternary_result%0#0
    frame_bury 0                                                         //                                                      store x#0 to f-stack                                      (洧도) condition#0 | (洧뎽) x#0,y#0 |
    // Implicit fall through to with_variable_condition_ternary_merge@3  //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |

with_variable_condition_ternary_merge@3:
    frame_dig 0                                                          //                                                      load x#0 from f-stack                                     (洧도) condition#0 | (洧뎽) x#0,y#0 | x#0                                                                                                               x) == condition                                                             conditional_expressions/literals.py:17
    frame_dig -1                                                         //                                                      load condition#0 from parameters                          (洧도) condition#0 | (洧뎽) x#0,y#0 | x#0,condition#0                                                                                                   x) == condition                                                             conditional_expressions/literals.py:17
    ==                                                                   //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | {==}                                                                                                              x) == condition                                                             conditional_expressions/literals.py:17
    //                                                                   virtual: store tmp%0#0 to l-stack (no copy)             (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%0#0                                                                                                         x) == condition                                             conditional_expressions/literals.py:17
    //                                                                   virtual: load tmp%0#0 from l-stack (no copy)            (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%0#0                                                                                                         assert bool(x) == condition                                 conditional_expressions/literals.py:17
    assert                                                               //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   assert bool(x) == condition                                                 conditional_expressions/literals.py:17
    frame_dig -1                                                         //                                                      load condition#0 from parameters                          (洧도) condition#0 | (洧뎽) x#0,y#0 | condition#0                                                                                                       -(-1 if condition else 0)                                                   conditional_expressions/literals.py:18
    bz with_variable_condition_ternary_false@5                           //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   -(-1 if condition else 0)                                                   conditional_expressions/literals.py:18
    // Implicit fall through to with_variable_condition_ternary_true@4   //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   -(-1 if condition else 0)                                                   conditional_expressions/literals.py:18

with_variable_condition_ternary_true@4:
    int 1                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 1                                                                                                                 -(-1 if condition else 0)                                                   conditional_expressions/literals.py:18
    //                                                                   virtual: store ternary_result%1#0 to x-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%1#0 |                                                                                        -(-1 if condition else 0)                                   conditional_expressions/literals.py:18
    b with_variable_condition_ternary_merge@6                            //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%1#0 |                              ternary_result%1#0

with_variable_condition_ternary_false@5:
    int 0                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 0                                                                                                                 -(-1 if condition else 0)                                                   conditional_expressions/literals.py:18
    //                                                                   virtual: store ternary_result%1#0 to x-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%1#0 |                                                                                        -(-1 if condition else 0)                                   conditional_expressions/literals.py:18
    // Implicit fall through to with_variable_condition_ternary_merge@6  //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%1#0 |                              ternary_result%1#0

with_variable_condition_ternary_merge@6:
    frame_dig 0                                                          //                                                      load x#0 from f-stack                                     (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%1#0 | x#0                          ternary_result%1#0                                          x == -(-1 if condition else 0)  # test unary op propagation                 conditional_expressions/literals.py:18
    uncover 1                                                            //                                                      load ternary_result%1#0 from x-stack                      (洧도) condition#0 | (洧뎽) x#0,y#0 | x#0,ternary_result%1#0                                                                                            x == -(-1 if condition else 0)  # test unary op propagation                 conditional_expressions/literals.py:18
    ==                                                                   //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | {==}                                                                                                              x == -(-1 if condition else 0)  # test unary op propagation                 conditional_expressions/literals.py:18
    //                                                                   virtual: store tmp%1#0 to l-stack (no copy)             (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%1#0                                                                                                         x == -(-1 if condition else 0)  # test unary op propagation conditional_expressions/literals.py:18
    //                                                                   virtual: load tmp%1#0 from l-stack (no copy)            (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%1#0                                                                                                         assert x == -(-1 if condition else 0)                       conditional_expressions/literals.py:18
    assert                                                               //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   assert x == -(-1 if condition else 0)                                       conditional_expressions/literals.py:18
    frame_dig -1                                                         //                                                      load condition#0 from parameters                          (洧도) condition#0 | (洧뎽) x#0,y#0 | condition#0                                                                                                       (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:19
    bz with_variable_condition_ternary_false@8                           //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:19
    // Implicit fall through to with_variable_condition_ternary_true@7   //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:19

with_variable_condition_ternary_true@7:
    int 0                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 0                                                                                                                 (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:19
    //                                                                   virtual: store ternary_result%2#0 to x-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%2#0 |                                                                                        (1 if condition else 2) - 1                                 conditional_expressions/literals.py:19
    b with_variable_condition_ternary_merge@9                            //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%2#0 |                              ternary_result%2#0

with_variable_condition_ternary_false@8:
    int 1                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 1                                                                                                                 (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:19
    //                                                                   virtual: store ternary_result%2#0 to x-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%2#0 |                                                                                        (1 if condition else 2) - 1                                 conditional_expressions/literals.py:19
    // Implicit fall through to with_variable_condition_ternary_merge@9  //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%2#0 |                              ternary_result%2#0

with_variable_condition_ternary_merge@9:
    frame_dig 0                                                          //                                                      load x#0 from f-stack                                     (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%2#0 | x#0                          ternary_result%2#0                                          y = x + ((1 if condition else 2) - 1)                                       conditional_expressions/literals.py:19
    uncover 1                                                            //                                                      load ternary_result%2#0 from x-stack                      (洧도) condition#0 | (洧뎽) x#0,y#0 | x#0,ternary_result%2#0                                                                                            y = x + ((1 if condition else 2) - 1)                                       conditional_expressions/literals.py:19
    +                                                                    //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | {+}                                                                                                               x + ((1 if condition else 2) - 1)                                           conditional_expressions/literals.py:19
    frame_bury 1                                                         //                                                      store y#0 to f-stack                                      (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   y = x + ((1 if condition else 2) - 1)                                       conditional_expressions/literals.py:19
    frame_dig -1                                                         //                                                      load condition#0 from parameters                          (洧도) condition#0 | (洧뎽) x#0,y#0 | condition#0                                                                                                       (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:20
    bz with_variable_condition_ternary_false@11                          //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:20
    // Implicit fall through to with_variable_condition_ternary_true@10  //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:20

with_variable_condition_ternary_true@10:
    int 0                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 0                                                                                                                 (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:20
    //                                                                   virtual: store ternary_result%3#0 to x-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%3#0 |                                                                                        (1 if condition else 2) - 1                                 conditional_expressions/literals.py:20
    b with_variable_condition_ternary_merge@12                           //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%3#0 |                              ternary_result%3#0

with_variable_condition_ternary_false@11:
    int 1                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 1                                                                                                                 (1 if condition else 2) - 1                                                 conditional_expressions/literals.py:20
    //                                                                   virtual: store ternary_result%3#0 to x-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%3#0 |                                                                                        (1 if condition else 2) - 1                                 conditional_expressions/literals.py:20
    // Implicit fall through to with_variable_condition_ternary_merge@12 //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%3#0 |                              ternary_result%3#0

with_variable_condition_ternary_merge@12:
    //                                                                   virtual: load ternary_result%3#0 from x-stack           (洧도) condition#0 | (洧뎽) x#0,y#0 | ternary_result%3#0                                                                        ternary_result%3#0    y2 = ((1 if condition else 2) - 1) + x                      conditional_expressions/literals.py:20
    frame_dig 0                                                          //                                                      load x#0 from f-stack                                     (洧도) condition#0 | (洧뎽) x#0,y#0 | ternary_result%3#0,x#0                                                                                            y2 = ((1 if condition else 2) - 1) + x                                      conditional_expressions/literals.py:20
    +                                                                    //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | {+}                                                                                                               ((1 if condition else 2) - 1) + x                                           conditional_expressions/literals.py:20
    //                                                                   virtual: store y2#0 to l-stack (no copy)                (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0                                                                                                            y2 = ((1 if condition else 2) - 1) + x                      conditional_expressions/literals.py:20
    frame_dig 1                                                          //                                                      load y#0 from f-stack                                     (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0,y#0                                                                                                          y == 1                                                                      conditional_expressions/literals.py:21
    int 1                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0,y#0,1                                                                                                        1                                                                           conditional_expressions/literals.py:21
    ==                                                                   //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0,{==}                                                                                                         y == 1                                                                      conditional_expressions/literals.py:21
    //                                                                   virtual: store tmp%2#0 to l-stack (no copy)             (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0,tmp%2#0                                                                                                    y == 1                                                      conditional_expressions/literals.py:21
    //                                                                   virtual: load tmp%2#0 from l-stack (no copy)            (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0,tmp%2#0                                                                                                    assert y == 1                                               conditional_expressions/literals.py:21
    assert                                                               //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0                                                                                                              assert y == 1                                                               conditional_expressions/literals.py:21
    //                                                                   virtual: load y2#0 from l-stack (no copy)               (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0                                                                                                            y2 == 1                                                     conditional_expressions/literals.py:22
    int 1                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | y2#0,1                                                                                                            1                                                                           conditional_expressions/literals.py:22
    ==                                                                   //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | {==}                                                                                                              y2 == 1                                                                     conditional_expressions/literals.py:22
    //                                                                   virtual: store tmp%3#0 to l-stack (no copy)             (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%3#0                                                                                                         y2 == 1                                                     conditional_expressions/literals.py:22
    //                                                                   virtual: load tmp%3#0 from l-stack (no copy)            (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%3#0                                                                                                         assert y2 == 1                                              conditional_expressions/literals.py:22
    assert                                                               //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   assert y2 == 1                                                              conditional_expressions/literals.py:22
    frame_dig -1                                                         //                                                      load condition#0 from parameters                          (洧도) condition#0 | (洧뎽) x#0,y#0 | condition#0                                                                                                       1 if condition else 0                                                       conditional_expressions/literals.py:23
    bz with_variable_condition_ternary_false@14                          //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   1 if condition else 0                                                       conditional_expressions/literals.py:23
    // Implicit fall through to with_variable_condition_ternary_true@13  //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   1 if condition else 0                                                       conditional_expressions/literals.py:23

with_variable_condition_ternary_true@13:
    int 1                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 1                                                                                                                 1 if condition else 0                                                       conditional_expressions/literals.py:23
    //                                                                   virtual: store ternary_result%4#0 to x-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%4#0 |                                                                                        1 if condition else 0                                       conditional_expressions/literals.py:23
    b with_variable_condition_ternary_merge@15                           //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%4#0 |                              ternary_result%4#0

with_variable_condition_ternary_false@14:
    int 0                                                                //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | 0                                                                                                                 1 if condition else 0                                                       conditional_expressions/literals.py:23
    //                                                                   virtual: store ternary_result%4#0 to x-stack (no copy)  (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%4#0 |                                                                                        1 if condition else 0                                       conditional_expressions/literals.py:23
    // Implicit fall through to with_variable_condition_ternary_merge@15 //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%4#0 |                              ternary_result%4#0

with_variable_condition_ternary_merge@15:
    frame_dig 1                                                          //                                                      load y#0 from f-stack                                     (洧도) condition#0 | (洧뎽) x#0,y#0 | (洧뎶) ternary_result%4#0 | y#0                          ternary_result%4#0                                          maybe = (1 if condition else 0) < y                                         conditional_expressions/literals.py:23
    uncover 1                                                            //                                                      load ternary_result%4#0 from x-stack                      (洧도) condition#0 | (洧뎽) x#0,y#0 | y#0,ternary_result%4#0                                                                                            maybe = (1 if condition else 0) < y                                         conditional_expressions/literals.py:23
    >                                                                    //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | {>}                                                                                                               1 if condition else 0) < y  # test comparison with non-literal              conditional_expressions/literals.py:23
    //                                                                   virtual: store maybe#0 to l-stack (no copy)             (洧도) condition#0 | (洧뎽) x#0,y#0 | maybe#0                                                                                                         maybe = (1 if condition else 0) < y                         conditional_expressions/literals.py:23
    frame_dig -1                                                         //                                                      load condition#0 from parameters                          (洧도) condition#0 | (洧뎽) x#0,y#0 | maybe#0,condition#0                                                                                               not condition                                                               conditional_expressions/literals.py:24
    !                                                                    //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | maybe#0,{!}                                                                                                       not condition                                                               conditional_expressions/literals.py:24
    //                                                                   virtual: store tmp%4#0 to l-stack (no copy)             (洧도) condition#0 | (洧뎽) x#0,y#0 | maybe#0,tmp%4#0                                                                                                 not condition                                               conditional_expressions/literals.py:24
    //                                                                   virtual: load maybe#0 from l-stack (no copy)            (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%4#0,maybe#0                                                                                                 maybe == (not condition)                                    conditional_expressions/literals.py:24
    //                                                                   virtual: load tmp%4#0 from l-stack (no copy)            (洧도) condition#0 | (洧뎽) x#0,y#0 | maybe#0,tmp%4#0                                                                                                 maybe == (not condition)                                    conditional_expressions/literals.py:24
    ==                                                                   //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 | {==}                                                                                                              maybe == (not condition)                                                    conditional_expressions/literals.py:24
    //                                                                   virtual: store tmp%5#0 to l-stack (no copy)             (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%5#0                                                                                                         maybe == (not condition)                                    conditional_expressions/literals.py:24
    //                                                                   virtual: load tmp%5#0 from l-stack (no copy)            (洧도) condition#0 | (洧뎽) x#0,y#0 | tmp%5#0                                                                                                         assert maybe == (not condition)                             conditional_expressions/literals.py:24
    assert                                                               //                                                                                                                (洧도) condition#0 | (洧뎽) x#0,y#0 |                                                                                                                   assert maybe == (not condition)                                             conditional_expressions/literals.py:24
    retsub                                                               //


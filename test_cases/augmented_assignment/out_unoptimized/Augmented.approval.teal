#pragma version 10

test_cases.augmented_assignment.contract.Augmented.approval_program:
    pushint 0 // 0
    txn ApplicationID
    bnz main_entrypoint@2
    callsub __init__

main_entrypoint@2:
    // augmented_assignment/contract.py:20
    // me = op.Txn.sender
    txn Sender
    bury 1
    // augmented_assignment/contract.py:22
    // if op.Txn.on_completion == OnCompleteAction.OptIn:
    txn OnCompletion
    pushint 1 // OptIn
    ==
    bz main_after_if_else@4
    // augmented_assignment/contract.py:23
    // self.my_uint[me] = UInt64(0)
    dig 0
    dup
    cover 1
    pushbytes "my_uint"
    pushint 0 // 0
    app_local_put
    // augmented_assignment/contract.py:24
    // self.my_bytes[me] = Bytes(b"")
    pushbytes "my_bytes"
    pushbytes 0x
    app_local_put

main_after_if_else@4:
    // augmented_assignment/contract.py:25
    // if op.Txn.application_id:
    txn ApplicationID
    bz main_after_if_else@6
    // augmented_assignment/contract.py:26-27
    // # variable augmented assignment
    // n = op.Txn.num_app_args
    txn NumAppArgs
    // augmented_assignment/contract.py:28
    // bytes_to_add = BigUInt(n).bytes
    dig 0
    itob
    cover 1
    // augmented_assignment/contract.py:30-32
    // # local augmented assignment
    // # this works, but need to silence mypy
    // self.my_uint[me] += n
    dig 2
    dup
    cover 1
    pushint 0 // 0
    pushbytes "my_uint"
    app_local_get_ex
    assert // check self.my_uint exists for account
    dig 2
    +
    dig 1
    pushbytes "my_uint"
    uncover 2
    app_local_put
    // augmented_assignment/contract.py:33
    // self.my_bytes[me] += bytes_to_add
    dig 0
    pushint 0 // 0
    pushbytes "my_bytes"
    app_local_get_ex
    assert // check self.my_bytes exists for account
    dig 3
    concat
    uncover 1
    pushbytes "my_bytes"
    uncover 2
    app_local_put
    // augmented_assignment/contract.py:35-36
    // # global augmented assignment
    // self.global_uint += n
    pushint 0 // 0
    pushbytes "global_uint"
    app_global_get_ex
    assert // check self.global_uint exists
    uncover 1
    +
    pushbytes "global_uint"
    uncover 1
    app_global_put
    // augmented_assignment/contract.py:37
    // self.global_bytes += bytes_to_add
    pushint 0 // 0
    pushbytes "global_bytes"
    app_global_get_ex
    assert // check self.global_bytes exists
    uncover 1
    concat
    pushbytes "global_bytes"
    uncover 1
    app_global_put

main_after_if_else@6:
    // augmented_assignment/contract.py:38
    // return True
    pushint 1 // 1
    return


// test_cases.augmented_assignment.contract.Augmented.__init__() -> void:
__init__:
    // augmented_assignment/contract.py:13
    // def __init__(self) -> None:
    proto 0 0
    // augmented_assignment/contract.py:16
    // self.global_uint = UInt64(0)
    pushbytes "global_uint"
    pushint 0 // 0
    app_global_put
    // augmented_assignment/contract.py:17
    // self.global_bytes = Bytes(b"")
    pushbytes "global_bytes"
    pushbytes 0x
    app_global_put
    retsub

// Op                                                                                      Stack (out)
// test_cases.tuple_support.tuple_storage.NestedTuplesStorage.__algopy_entrypoint_with_init() -> uint64:
subroutine main:
    block@0:
        txn ApplicationID                                                                  tmp%0#0
        v-store tmp%0#0
        v-load tmp%0#0                                                                     tmp%0#0
        bz call___init__@1 ; b after_if_else@2

    call___init__@1:
        // tuple_support/tuple_storage.py:16
        // self.tup = TupleWithMutable(
        byte "tup"                                                                         "tup"
        byte 0x000a000000000000000000010000000000000000                                    "tup",0x000a000000000000000000010000000000000000
        // tuple_support/tuple_storage.py:16-19
        // self.tup = TupleWithMutable(
        //     arr=arc4.DynamicArray(arc4.UInt64(0)),
        //     bar=UInt64(),
        // )
        app_global_put
        // tuple_support/tuple_storage.py:20
        // self.glob.value = self.tup._replace(arr=arc4.DynamicArray(arc4.UInt64(0)))
        byte "glob"                                                                        "glob"
        byte 0x000a000000000000000000010000000000000000                                    "glob",0x000a000000000000000000010000000000000000
        app_global_put
        // tuple_support/tuple_storage.py:21
        // self.tup = self.tup._replace(arr=arc4.DynamicArray(arc4.UInt64(0)))
        int 0                                                                              0
        byte "tup"                                                                         0,"tup"
        app_global_get_ex                                                                  maybe_value%1#0,maybe_exists%1#0
        v-store maybe_exists%1#0                                                           maybe_value%1#0
        v-store maybe_value%1#0
        v-load maybe_exists%1#0                                                            maybe_exists%1#0
        assert // check self.tup exists
        v-load maybe_value%1#0                                                             maybe_value%1#0
        extract 2 8                                                                        aggregate%extract%1#0
        v-store aggregate%extract%1#0
        byte 0x000a                                                                        0x000a
        v-load aggregate%extract%1#0                                                       0x000a,aggregate%extract%1#0
        concat                                                                             aggregate%head%6#0
        v-store aggregate%head%6#0
        v-load aggregate%head%6#0                                                          aggregate%head%6#0
        // tuple_support/tuple_storage.py:17
        // arr=arc4.DynamicArray(arc4.UInt64(0)),
        byte 0x00010000000000000000                                                        aggregate%head%6#0,0x00010000000000000000
        // tuple_support/tuple_storage.py:21
        // self.tup = self.tup._replace(arr=arc4.DynamicArray(arc4.UInt64(0)))
        concat                                                                             aggregate%concat%2#0
        v-store aggregate%concat%2#0
        byte "tup"                                                                         "tup"
        v-load aggregate%concat%2#0                                                        "tup",aggregate%concat%2#0
        app_global_put
        b after_if_else@2

    after_if_else@2:
        // tuple_support/tuple_storage.py:11
        // class NestedTuplesStorage(arc4.ARC4Contract):
        txn NumAppArgs                                                                     tmp%0#2
        v-store tmp%0#2
        v-load tmp%0#2                                                                     tmp%0#2
        bz __algopy_default_create@13 ; b abi_routing@4

    abi_routing@4:
        // tuple_support/tuple_storage.py:11
        // class NestedTuplesStorage(arc4.ARC4Contract):
        txna ApplicationArgs 0                                                             tmp%2#0
        v-store tmp%2#0
        method bootstrap()void                                                             Method(bootstrap()void)
        v-load tmp%2#0                                                                     Method(bootstrap()void),tmp%2#0
        match bootstrap_route@5 ; b switch_case_next@6

    bootstrap_route@5:
        // tuple_support/tuple_storage.py:23
        // @arc4.abimethod(allow_actions=["OptIn"])
        txn OnCompletion                                                                   tmp%3#0
        v-store tmp%3#0
        v-load tmp%3#0                                                                     tmp%3#0
        int OptIn                                                                          tmp%3#0,OptIn
        ==                                                                                 tmp%4#0
        v-store tmp%4#0
        txn ApplicationID                                                                  tmp%5#0
        v-store tmp%5#0
        v-load tmp%4#0                                                                     tmp%4#0
        v-load tmp%5#0                                                                     tmp%4#0,tmp%5#0
        &&                                                                                 tmp%7#0
        v-store tmp%7#0
        v-load tmp%7#0                                                                     tmp%7#0
        assert // OnCompletion must be OptIn && can only call when not creating
        callsub bootstrap
        b switch_case_next@6

    switch_case_next@6:
        // tuple_support/tuple_storage.py:11
        // class NestedTuplesStorage(arc4.ARC4Contract):
        txn OnCompletion                                                                   tmp%8#0
        v-store tmp%8#0
        v-load tmp%8#0                                                                     tmp%8#0
        !                                                                                  tmp%9#0
        v-store tmp%9#0
        v-load tmp%9#0                                                                     tmp%9#0
        assert // OnCompletion must be NoOp
        txn ApplicationID                                                                  tmp%10#0
        v-store tmp%10#0
        v-load tmp%10#0                                                                    tmp%10#0
        assert
        txna ApplicationArgs 0                                                             tmp%12#0
        v-store tmp%12#0
        method mutate_tuple(uint64)void                                                    Method(mutate_tuple(uint64)void)
        method mutate_box(uint64)void                                                      Method(mutate_tuple(uint64)void),Method(mutate_box(uint64)void)
        method mutate_global(uint64)void                                                   Method(mutate_tuple(uint64)void),Method(mutate_box(uint64)void),Method(mutate_global(uint64)void)
        method mutate_local(uint64)void                                                    Method(mutate_tuple(uint64)void),Method(mutate_box(uint64)void),Method(mutate_global(uint64)void),Method(mutate_local(uint64)void)
        v-load tmp%12#0                                                                    Method(mutate_tuple(uint64)void),Method(mutate_box(uint64)void),Method(mutate_global(uint64)void),Method(mutate_local(uint64)void),tmp%12#0
        match mutate_tuple_route@8 mutate_box_route@9 mutate_global_route@10 mutate_local_route@11 ; b after_if_else@12 

    mutate_tuple_route@8:
        // tuple_support/tuple_storage.py:28
        // @arc4.abimethod()
        callsub mutate_tuple
        b after_if_else@12

    mutate_box_route@9:
        // tuple_support/tuple_storage.py:32
        // @arc4.abimethod()
        callsub mutate_box
        b after_if_else@12

    mutate_global_route@10:
        // tuple_support/tuple_storage.py:36
        // @arc4.abimethod()
        callsub mutate_global
        b after_if_else@12

    mutate_local_route@11:
        // tuple_support/tuple_storage.py:40
        // @arc4.abimethod()
        callsub mutate_local
        b after_if_else@12

    after_if_else@12:
        // tuple_support/tuple_storage.py:11
        // class NestedTuplesStorage(arc4.ARC4Contract):
        err

    __algopy_default_create@13:
        txn OnCompletion                                                                   tmp%13#0
        v-store tmp%13#0
        v-load tmp%13#0                                                                    tmp%13#0
        !                                                                                  tmp%14#0
        v-store tmp%14#0
        txn ApplicationID                                                                  tmp%15#0
        v-store tmp%15#0
        v-load tmp%15#0                                                                    tmp%15#0
        !                                                                                  tmp%16#0
        v-store tmp%16#0
        v-load tmp%14#0                                                                    tmp%14#0
        v-load tmp%16#0                                                                    tmp%14#0,tmp%16#0
        &&                                                                                 tmp%17#0
        v-store tmp%17#0
        v-load tmp%17#0                                                                    tmp%17#0
        assert // OnCompletion must be NoOp && can only call when creating
        int 1                                                                              1
        return


// test_cases.tuple_support.tuple_storage.NestedTuplesStorage.bootstrap[routing]() -> void:
subroutine bootstrap:
    bootstrap_block@0:
        // tuple_support/tuple_storage.py:25
        // self.box.value = self.tup._replace(arr=arc4.DynamicArray(arc4.UInt64(0)))
        int 0                                                                              0
        byte "tup"                                                                         0,"tup"
        app_global_get_ex                                                                  maybe_value%0#0,maybe_exists%0#0
        v-store maybe_exists%0#0                                                           maybe_value%0#0
        v-store maybe_value%0#0
        v-load maybe_exists%0#0                                                            maybe_exists%0#0
        assert // check self.tup exists
        v-load maybe_value%0#0                                                             maybe_value%0#0
        extract 2 8                                                                        aggregate%extract%0#0
        v-store aggregate%extract%0#0
        byte 0x000a                                                                        0x000a
        v-load aggregate%extract%0#0                                                       0x000a,aggregate%extract%0#0
        concat                                                                             aggregate%head%2#0
        v-store aggregate%head%2#0
        v-load aggregate%head%2#0                                                          aggregate%head%2#0
        byte 0x00010000000000000000                                                        aggregate%head%2#0,0x00010000000000000000
        concat                                                                             aggregate%concat%0#0
        v-store aggregate%concat%0#0
        byte "box"                                                                         "box"
        box_del                                                                            {box_del}
        pop 1
        byte "box"                                                                         "box"
        v-load aggregate%concat%0#0                                                        "box",aggregate%concat%0#0
        box_put
        // tuple_support/tuple_storage.py:26
        // self.loc[Txn.sender] = self.tup._replace(arr=arc4.DynamicArray(arc4.UInt64(0)))
        txn Sender                                                                         tmp%0#0
        v-store tmp%0#0
        v-load tmp%0#0                                                                     tmp%0#0
        byte "loc"                                                                         tmp%0#0,"loc"
        v-load aggregate%concat%0#0                                                        tmp%0#0,"loc",aggregate%concat%0#0
        app_local_put
        // tuple_support/tuple_storage.py:23
        // @arc4.abimethod(allow_actions=["OptIn"])
        int 1                                                                              1
        return


// test_cases.tuple_support.tuple_storage.NestedTuplesStorage.mutate_tuple[routing]() -> void:
subroutine mutate_tuple:
    mutate_tuple_block@0:
        // tuple_support/tuple_storage.py:28
        // @arc4.abimethod()
        txna ApplicationArgs 1                                                             val#0
        v-store val#0
        // tuple_support/tuple_storage.py:30
        // self.tup.arr.append(val)
        int 0                                                                              0
        byte "tup"                                                                         0,"tup"
        app_global_get_ex                                                                  maybe_value%0#0,maybe_exists%0#0
        v-store maybe_exists%0#0                                                           maybe_value%0#0
        v-store maybe_value%0#0
        v-load maybe_exists%0#0                                                            maybe_exists%0#0
        assert // check self.tup exists
        v-load maybe_value%0#0                                                             maybe_value%0#0
        int 0                                                                              maybe_value%0#0,0
        extract_uint16                                                                     aggregate%extract_uint16%0#0
        v-store aggregate%extract_uint16%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        len                                                                                aggregate%len%0#0
        v-store aggregate%len%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        v-load aggregate%extract_uint16%0#0                                                maybe_value%0#0,aggregate%extract_uint16%0#0
        v-load aggregate%len%0#0                                                           maybe_value%0#0,aggregate%extract_uint16%0#0,aggregate%len%0#0
        substring3                                                                         aggregate%substring3%0#0
        v-store aggregate%substring3%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        extract 2 8                                                                        aggregate%extract%0#0
        v-store aggregate%extract%0#0
        v-load aggregate%substring3%0#0                                                    aggregate%substring3%0#0
        v-load val#0                                                                       aggregate%substring3%0#0,val#0
        concat // on error: max array length exceeded                                      concat%0#0
        v-store concat%0#0
        v-load aggregate%substring3%0#0                                                    aggregate%substring3%0#0
        int 0                                                                              aggregate%substring3%0#0,0
        extract_uint16                                                                     extract_uint16%0#0
        v-store extract_uint16%0#0
        v-load extract_uint16%0#0                                                          extract_uint16%0#0
        int 1                                                                              extract_uint16%0#0,1
        +                                                                                  add%0#0
        v-store add%0#0
        v-load add%0#0                                                                     add%0#0
        itob                                                                               as_bytes%0#0
        v-store as_bytes%0#0
        v-load as_bytes%0#0                                                                as_bytes%0#0
        extract 6 2                                                                        as_u16_bytes%0#0
        v-store as_u16_bytes%0#0
        v-load concat%0#0                                                                  concat%0#0
        v-load as_u16_bytes%0#0                                                            concat%0#0,as_u16_bytes%0#0
        replace2 0                                                                         replace%0#0
        v-store replace%0#0
        byte 0x000a                                                                        0x000a
        v-load aggregate%extract%0#0                                                       0x000a,aggregate%extract%0#0
        concat                                                                             aggregate%head%2#0
        v-store aggregate%head%2#0
        v-load aggregate%head%2#0                                                          aggregate%head%2#0
        v-load replace%0#0                                                                 aggregate%head%2#0,replace%0#0
        concat                                                                             aggregate%concat%0#0
        v-store aggregate%concat%0#0
        byte "tup"                                                                         "tup"
        v-load aggregate%concat%0#0                                                        "tup",aggregate%concat%0#0
        app_global_put
        // tuple_support/tuple_storage.py:28
        // @arc4.abimethod()
        int 1                                                                              1
        return


// test_cases.tuple_support.tuple_storage.NestedTuplesStorage.mutate_box[routing]() -> void:
subroutine mutate_box:
    mutate_box_block@0:
        // tuple_support/tuple_storage.py:32
        // @arc4.abimethod()
        txna ApplicationArgs 1                                                             val#0
        v-store val#0
        // tuple_support/tuple_storage.py:34
        // self.box.value.arr.append(val)
        byte "box"                                                                         "box"
        box_get                                                                            aggregate%box_get%0#0,aggregate%box_get%1#0
        v-store aggregate%box_get%1#0                                                      aggregate%box_get%0#0
        v-store aggregate%box_get%0#0
        v-load aggregate%box_get%1#0                                                       aggregate%box_get%1#0
        assert // check self.box exists
        v-load aggregate%box_get%0#0                                                       aggregate%box_get%0#0
        int 0                                                                              aggregate%box_get%0#0,0
        extract_uint16                                                                     aggregate%extract_uint16%0#0
        v-store aggregate%extract_uint16%0#0
        v-load aggregate%box_get%0#0                                                       aggregate%box_get%0#0
        len                                                                                aggregate%len%0#0
        v-store aggregate%len%0#0
        v-load aggregate%box_get%0#0                                                       aggregate%box_get%0#0
        v-load aggregate%extract_uint16%0#0                                                aggregate%box_get%0#0,aggregate%extract_uint16%0#0
        v-load aggregate%len%0#0                                                           aggregate%box_get%0#0,aggregate%extract_uint16%0#0,aggregate%len%0#0
        substring3                                                                         aggregate%substring3%0#0
        v-store aggregate%substring3%0#0
        v-load aggregate%box_get%0#0                                                       aggregate%box_get%0#0
        extract 2 8                                                                        aggregate%extract%0#0
        v-store aggregate%extract%0#0
        v-load aggregate%substring3%0#0                                                    aggregate%substring3%0#0
        v-load val#0                                                                       aggregate%substring3%0#0,val#0
        concat // on error: max array length exceeded                                      concat%0#0
        v-store concat%0#0
        v-load aggregate%substring3%0#0                                                    aggregate%substring3%0#0
        int 0                                                                              aggregate%substring3%0#0,0
        extract_uint16                                                                     extract_uint16%0#0
        v-store extract_uint16%0#0
        v-load extract_uint16%0#0                                                          extract_uint16%0#0
        int 1                                                                              extract_uint16%0#0,1
        +                                                                                  add%0#0
        v-store add%0#0
        v-load add%0#0                                                                     add%0#0
        itob                                                                               as_bytes%0#0
        v-store as_bytes%0#0
        v-load as_bytes%0#0                                                                as_bytes%0#0
        extract 6 2                                                                        as_u16_bytes%0#0
        v-store as_u16_bytes%0#0
        v-load concat%0#0                                                                  concat%0#0
        v-load as_u16_bytes%0#0                                                            concat%0#0,as_u16_bytes%0#0
        replace2 0                                                                         replace%0#0
        v-store replace%0#0
        byte 0x000a                                                                        0x000a
        v-load aggregate%extract%0#0                                                       0x000a,aggregate%extract%0#0
        concat                                                                             aggregate%head%2#0
        v-store aggregate%head%2#0
        v-load aggregate%head%2#0                                                          aggregate%head%2#0
        v-load replace%0#0                                                                 aggregate%head%2#0,replace%0#0
        concat                                                                             aggregate%concat%0#0
        v-store aggregate%concat%0#0
        byte "box"                                                                         "box"
        box_del                                                                            {box_del}
        pop 1
        byte "box"                                                                         "box"
        v-load aggregate%concat%0#0                                                        "box",aggregate%concat%0#0
        box_put
        // tuple_support/tuple_storage.py:32
        // @arc4.abimethod()
        int 1                                                                              1
        return


// test_cases.tuple_support.tuple_storage.NestedTuplesStorage.mutate_global[routing]() -> void:
subroutine mutate_global:
    mutate_global_block@0:
        // tuple_support/tuple_storage.py:36
        // @arc4.abimethod()
        txna ApplicationArgs 1                                                             val#0
        v-store val#0
        // tuple_support/tuple_storage.py:38
        // self.glob.value.arr.append(val)
        int 0                                                                              0
        byte "glob"                                                                        0,"glob"
        app_global_get_ex                                                                  maybe_value%0#0,maybe_exists%0#0
        v-store maybe_exists%0#0                                                           maybe_value%0#0
        v-store maybe_value%0#0
        v-load maybe_exists%0#0                                                            maybe_exists%0#0
        assert // check self.glob exists
        v-load maybe_value%0#0                                                             maybe_value%0#0
        int 0                                                                              maybe_value%0#0,0
        extract_uint16                                                                     aggregate%extract_uint16%0#0
        v-store aggregate%extract_uint16%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        len                                                                                aggregate%len%0#0
        v-store aggregate%len%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        v-load aggregate%extract_uint16%0#0                                                maybe_value%0#0,aggregate%extract_uint16%0#0
        v-load aggregate%len%0#0                                                           maybe_value%0#0,aggregate%extract_uint16%0#0,aggregate%len%0#0
        substring3                                                                         aggregate%substring3%0#0
        v-store aggregate%substring3%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        extract 2 8                                                                        aggregate%extract%0#0
        v-store aggregate%extract%0#0
        v-load aggregate%substring3%0#0                                                    aggregate%substring3%0#0
        v-load val#0                                                                       aggregate%substring3%0#0,val#0
        concat // on error: max array length exceeded                                      concat%0#0
        v-store concat%0#0
        v-load aggregate%substring3%0#0                                                    aggregate%substring3%0#0
        int 0                                                                              aggregate%substring3%0#0,0
        extract_uint16                                                                     extract_uint16%0#0
        v-store extract_uint16%0#0
        v-load extract_uint16%0#0                                                          extract_uint16%0#0
        int 1                                                                              extract_uint16%0#0,1
        +                                                                                  add%0#0
        v-store add%0#0
        v-load add%0#0                                                                     add%0#0
        itob                                                                               as_bytes%0#0
        v-store as_bytes%0#0
        v-load as_bytes%0#0                                                                as_bytes%0#0
        extract 6 2                                                                        as_u16_bytes%0#0
        v-store as_u16_bytes%0#0
        v-load concat%0#0                                                                  concat%0#0
        v-load as_u16_bytes%0#0                                                            concat%0#0,as_u16_bytes%0#0
        replace2 0                                                                         replace%0#0
        v-store replace%0#0
        byte 0x000a                                                                        0x000a
        v-load aggregate%extract%0#0                                                       0x000a,aggregate%extract%0#0
        concat                                                                             aggregate%head%2#0
        v-store aggregate%head%2#0
        v-load aggregate%head%2#0                                                          aggregate%head%2#0
        v-load replace%0#0                                                                 aggregate%head%2#0,replace%0#0
        concat                                                                             aggregate%concat%0#0
        v-store aggregate%concat%0#0
        byte "glob"                                                                        "glob"
        v-load aggregate%concat%0#0                                                        "glob",aggregate%concat%0#0
        app_global_put
        // tuple_support/tuple_storage.py:36
        // @arc4.abimethod()
        int 1                                                                              1
        return


// test_cases.tuple_support.tuple_storage.NestedTuplesStorage.mutate_local[routing]() -> void:
subroutine mutate_local:
    mutate_local_block@0:
        // tuple_support/tuple_storage.py:40
        // @arc4.abimethod()
        txna ApplicationArgs 1                                                             val#0
        v-store val#0
        // tuple_support/tuple_storage.py:42
        // self.loc[Txn.sender].arr.append(val)
        txn Sender                                                                         tmp%0#0
        v-store tmp%0#0
        v-load tmp%0#0                                                                     tmp%0#0
        int 0                                                                              tmp%0#0,0
        byte "loc"                                                                         tmp%0#0,0,"loc"
        app_local_get_ex                                                                   maybe_value%0#0,maybe_exists%0#0
        v-store maybe_exists%0#0                                                           maybe_value%0#0
        v-store maybe_value%0#0
        v-load maybe_exists%0#0                                                            maybe_exists%0#0
        assert // check self.loc exists for account
        v-load maybe_value%0#0                                                             maybe_value%0#0
        int 0                                                                              maybe_value%0#0,0
        extract_uint16                                                                     aggregate%extract_uint16%0#0
        v-store aggregate%extract_uint16%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        len                                                                                aggregate%len%0#0
        v-store aggregate%len%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        v-load aggregate%extract_uint16%0#0                                                maybe_value%0#0,aggregate%extract_uint16%0#0
        v-load aggregate%len%0#0                                                           maybe_value%0#0,aggregate%extract_uint16%0#0,aggregate%len%0#0
        substring3                                                                         aggregate%substring3%0#0
        v-store aggregate%substring3%0#0
        v-load maybe_value%0#0                                                             maybe_value%0#0
        extract 2 8                                                                        aggregate%extract%0#0
        v-store aggregate%extract%0#0
        v-load aggregate%substring3%0#0                                                    aggregate%substring3%0#0
        v-load val#0                                                                       aggregate%substring3%0#0,val#0
        concat // on error: max array length exceeded                                      concat%0#0
        v-store concat%0#0
        v-load aggregate%substring3%0#0                                                    aggregate%substring3%0#0
        int 0                                                                              aggregate%substring3%0#0,0
        extract_uint16                                                                     extract_uint16%0#0
        v-store extract_uint16%0#0
        v-load extract_uint16%0#0                                                          extract_uint16%0#0
        int 1                                                                              extract_uint16%0#0,1
        +                                                                                  add%0#0
        v-store add%0#0
        v-load add%0#0                                                                     add%0#0
        itob                                                                               as_bytes%0#0
        v-store as_bytes%0#0
        v-load as_bytes%0#0                                                                as_bytes%0#0
        extract 6 2                                                                        as_u16_bytes%0#0
        v-store as_u16_bytes%0#0
        v-load concat%0#0                                                                  concat%0#0
        v-load as_u16_bytes%0#0                                                            concat%0#0,as_u16_bytes%0#0
        replace2 0                                                                         replace%0#0
        v-store replace%0#0
        byte 0x000a                                                                        0x000a
        v-load aggregate%extract%0#0                                                       0x000a,aggregate%extract%0#0
        concat                                                                             aggregate%head%2#0
        v-store aggregate%head%2#0
        v-load aggregate%head%2#0                                                          aggregate%head%2#0
        v-load replace%0#0                                                                 aggregate%head%2#0,replace%0#0
        concat                                                                             aggregate%concat%0#0
        v-store aggregate%concat%0#0
        v-load tmp%0#0                                                                     tmp%0#0
        byte "loc"                                                                         tmp%0#0,"loc"
        v-load aggregate%concat%0#0                                                        tmp%0#0,"loc",aggregate%concat%0#0
        app_local_put
        // tuple_support/tuple_storage.py:40
        // @arc4.abimethod()
        int 1                                                                              1
        return



// Op                                                                      Stack (out)
// algopy.arc4.ARC4Contract.approval_program() -> uint64:
subroutine main:
    main_block@0:
        // regression_tests/leftover_branch.py:4
        // class BranchElimination(ARC4Contract):
        txn NumAppArgs                                                     tmp%0#1
        v-store tmp%0#1
        v-load tmp%0#1                                                     tmp%0#1
        bz main___algopy_default_create@10 ; b main_abi_routing@2

    main_abi_routing@2:
        // regression_tests/leftover_branch.py:4
        // class BranchElimination(ARC4Contract):
        txn OnCompletion                                                   tmp%2#0
        v-store tmp%2#0
        v-load tmp%2#0                                                     tmp%2#0
        !                                                                  tmp%3#0
        v-store tmp%3#0
        v-load tmp%3#0                                                     tmp%3#0
        assert // OnCompletion must be NoOp
        txn ApplicationID                                                  tmp%4#0
        v-store tmp%4#0
        v-load tmp%4#0                                                     tmp%4#0
        assert
        txna ApplicationArgs 0                                             tmp%6#0
        v-store tmp%6#0
        method umm()uint64                                                 Method(umm()uint64)
        method umm2()void                                                  Method(umm()uint64),Method(umm2()void)
        method calculate(uint64[][],uint64)void                            Method(umm()uint64),Method(umm2()void),Method(calculate(uint64[][],uint64)void)
        v-load tmp%6#0                                                     Method(umm()uint64),Method(umm2()void),Method(calculate(uint64[][],uint64)void),tmp%6#0
        match main_umm_route@4 main_umm2_route@5 main_calculate_route@6 ; b main_after_if_else@9 

    main_umm_route@4:
        // regression_tests/leftover_branch.py:5
        // @arc4.abimethod
        callsub umm
        b main_after_if_else@9

    main_umm2_route@5:
        // regression_tests/leftover_branch.py:18
        // @arc4.abimethod
        callsub umm2
        b main_after_if_else@9

    main_calculate_route@6:
        // regression_tests/leftover_branch.py:29
        // @arc4.abimethod
        callsub calculate
        b main_after_if_else@9

    main_after_if_else@9:
        // regression_tests/leftover_branch.py:4
        // class BranchElimination(ARC4Contract):
        err

    main___algopy_default_create@10:
        txn OnCompletion                                                   tmp%7#0
        v-store tmp%7#0
        v-load tmp%7#0                                                     tmp%7#0
        !                                                                  tmp%8#0
        v-store tmp%8#0
        txn ApplicationID                                                  tmp%9#0
        v-store tmp%9#0
        v-load tmp%9#0                                                     tmp%9#0
        !                                                                  tmp%10#0
        v-store tmp%10#0
        v-load tmp%8#0                                                     tmp%8#0
        v-load tmp%10#0                                                    tmp%8#0,tmp%10#0
        &&                                                                 tmp%11#0
        v-store tmp%11#0
        v-load tmp%11#0                                                    tmp%11#0
        assert // OnCompletion must be NoOp && can only call when creating
        int 1                                                              1
        return


// test_cases.regression_tests.leftover_branch.hmm() -> uint64:
subroutine hmm:
    hmm_block@0:
        // regression_tests/leftover_branch.py:55
        // return False
        int 0                                                              0
        retsub                                                             0


// test_cases.regression_tests.leftover_branch.hmm_uint64() -> uint64:
subroutine hmm_uint64:
    hmm_uint64_block@0:
        // regression_tests/leftover_branch.py:60
        // return UInt64(0)
        int 0                                                              0
        retsub                                                             0


// test_cases.regression_tests.leftover_branch.BranchElimination.umm[routing]() -> void:
subroutine umm:
    umm_block@0:
        // regression_tests/leftover_branch.py:7
        // ahuh = UInt64(0)
        int 0                                                              0
        v-store ahuh#0
        b umm_while_top@2

    umm_while_top@2:
        // regression_tests/leftover_branch.py:9
        // for _i in urange(hmm_uint64()):
        callsub hmm_uint64                                                 tmp%0#1
        v-store tmp%0#1
        int 0                                                              0
        v-store value_internal%0#0
        v-load value_internal%0#0                                          value_internal%0#0
        v-store _i#0
        b umm_for_header@4

    umm_for_header@4:
        // regression_tests/leftover_branch.py:9
        // for _i in urange(hmm_uint64()):
        v-load _i#0                                                        _i#0
        v-load tmp%0#1                                                     _i#0,tmp%0#1
        <                                                                  continue_looping%0#0
        v-store continue_looping%0#0
        v-load continue_looping%0#0                                        continue_looping%0#0
        bz umm_after_for@13 ; b umm_for_body@5

    umm_for_body@5:
        // regression_tests/leftover_branch.py:10
        // if hmm():  # noqa: SIM102
        callsub hmm                                                        tmp%1#1
        v-store tmp%1#1
        v-load tmp%1#1                                                     tmp%1#1
        bz umm_after_if_else@11 ; b umm_if_body@6

    umm_if_body@6:
        // regression_tests/leftover_branch.py:11
        // if hmm():  # noqa: SIM102
        callsub hmm                                                        tmp%2#1
        v-store tmp%2#1
        v-load tmp%2#1                                                     tmp%2#1
        bz umm_after_if_else@11 ; b umm_if_body@7

    umm_if_body@7:
        // regression_tests/leftover_branch.py:12
        // if hmm():
        callsub hmm                                                        tmp%3#0
        v-store tmp%3#0
        v-load tmp%3#0                                                     tmp%3#0
        bz umm_after_if_else@11 ; b umm_if_body@8

    umm_if_body@8:
        // regression_tests/leftover_branch.py:13
        // ahuh += hmm()
        callsub hmm                                                        tmp%4#0
        v-store tmp%4#0
        v-load ahuh#0                                                      ahuh#0
        v-load tmp%4#0                                                     ahuh#0,tmp%4#0
        +                                                                  ahuh#0
        v-store ahuh#0
        b umm_after_if_else@11

    umm_after_if_else@11:
        // regression_tests/leftover_branch.py:9
        // for _i in urange(hmm_uint64()):
        v-load _i#0                                                        _i#0
        int 1                                                              _i#0,1
        +                                                                  value_internal%0#0
        v-store value_internal%0#0
        v-load value_internal%0#0                                          value_internal%0#0
        v-store _i#0
        b umm_for_header@4

    umm_after_for@13:
        // regression_tests/leftover_branch.py:14
        // if hmm():
        callsub hmm                                                        tmp%6#0
        v-store tmp%6#0
        v-load tmp%6#0                                                     tmp%6#0
        bz umm_while_top@2 ; b umm_if_body@14

    umm_if_body@14:
        // regression_tests/leftover_branch.py:5
        // @arc4.abimethod
        v-load ahuh#0                                                      ahuh#0
        itob                                                               aggregate%val_as_bytes%0#0
        v-store aggregate%val_as_bytes%0#0
        byte 0x151f7c75                                                    0x151f7c75
        v-load aggregate%val_as_bytes%0#0                                  0x151f7c75,aggregate%val_as_bytes%0#0
        concat                                                             tmp%2#0
        v-store tmp%2#0
        v-load tmp%2#0                                                     tmp%2#0
        log
        int 1                                                              1
        return


// test_cases.regression_tests.leftover_branch.BranchElimination.umm2[routing]() -> void:
subroutine umm2:
    umm2_block@0:
        // regression_tests/leftover_branch.py:20
        // ahuh = UInt64(0)
        int 0                                                              0
        v-store ahuh#0
        b umm2_while_top@2

    umm2_while_top@2:
        // regression_tests/leftover_branch.py:22
        // if hmm():  # noqa: SIM102
        callsub hmm                                                        tmp%0#0
        v-store tmp%0#0
        v-load tmp%0#0                                                     tmp%0#0
        bz umm2_after_if_else@9 ; b umm2_if_body@4

    umm2_if_body@4:
        // regression_tests/leftover_branch.py:23
        // if hmm():  # noqa: SIM102
        callsub hmm                                                        tmp%1#0
        v-store tmp%1#0
        v-load tmp%1#0                                                     tmp%1#0
        bz umm2_after_if_else@9 ; b umm2_if_body@5

    umm2_if_body@5:
        // regression_tests/leftover_branch.py:24
        // if hmm():
        callsub hmm                                                        tmp%2#0
        v-store tmp%2#0
        v-load tmp%2#0                                                     tmp%2#0
        bz umm2_after_if_else@9 ; b umm2_if_body@6

    umm2_if_body@6:
        // regression_tests/leftover_branch.py:25
        // ahuh += hmm()
        callsub hmm                                                        tmp%3#0
        v-store tmp%3#0
        v-load ahuh#0                                                      ahuh#0
        v-load tmp%3#0                                                     ahuh#0,tmp%3#0
        +                                                                  ahuh#0
        v-store ahuh#0
        b umm2_after_if_else@9

    umm2_after_if_else@9:
        // regression_tests/leftover_branch.py:26
        // if hmm():
        callsub hmm                                                        tmp%5#0
        v-store tmp%5#0
        v-load tmp%5#0                                                     tmp%5#0
        bz umm2_while_top@2 ; b umm2_if_body@10

    umm2_if_body@10:
        // regression_tests/leftover_branch.py:18
        // @arc4.abimethod
        int 1                                                              1
        return


// test_cases.regression_tests.leftover_branch.BranchElimination.calculate[routing]() -> void:
subroutine calculate:
    calculate_block@0:
        // regression_tests/leftover_branch.py:29
        // @arc4.abimethod
        txna ApplicationArgs 1                                             nested_list#0
        v-store nested_list#0
        v-load nested_list#0                                               nested_list#0
        int 0                                                              nested_list#0,0
        extract_uint16 // on error: invalid array length header            aggregate%array_length%0#0
        v-store aggregate%array_length%0#0
        v-load aggregate%array_length%0#0                                  aggregate%array_length%0#0
        int 2                                                              aggregate%array_length%0#0,2
        *                                                                  num_bytes%0#0
        v-store num_bytes%0#0
        v-load nested_list#0                                               nested_list#0
        len                                                                total_length%0#0
        v-store total_length%0#0
        v-load nested_list#0                                               nested_list#0
        extract 2 0                                                        array_data%0#0
        v-store array_data%0#0
        int 0                                                              0
        v-store index%0#0
        b calculate_for_header@1

    calculate_for_header@1:
        // regression_tests/leftover_branch.py:29
        // @arc4.abimethod
        v-load index%0#0                                                   index%0#0
        v-load aggregate%array_length%0#0                                  index%0#0,aggregate%array_length%0#0
        <                                                                  continue_looping%0#0
        v-store continue_looping%0#0
        v-load continue_looping%0#0                                        continue_looping%0#0
        bz calculate_after_for@4 ; b calculate_for_body@2

    calculate_for_body@2:
        // regression_tests/leftover_branch.py:29
        // @arc4.abimethod
        v-load index%0#0                                                   index%0#0
        int 2                                                              index%0#0,2
        *                                                                  head_offset_bytes%0#0
        v-store head_offset_bytes%0#0
        v-load array_data%0#0                                              array_data%0#0
        v-load head_offset_bytes%0#0                                       array_data%0#0,head_offset_bytes%0#0
        extract_uint16 // on error: invalid array encoding                 item_offset%0#0
        v-store item_offset%0#0
        v-load item_offset%0#0                                             item_offset%0#0
        v-load num_bytes%0#0                                               item_offset%0#0,num_bytes%0#0
        ==                                                                 offset_is_correct%0#0
        v-store offset_is_correct%0#0
        v-load offset_is_correct%0#0                                       offset_is_correct%0#0
        assert // invalid tail pointer for (len+(len+uint64[])[])
        v-load array_data%0#0                                              array_data%0#0
        len                                                                total_length%1#0
        v-store total_length%1#0
        v-load array_data%0#0                                              array_data%0#0
        v-load item_offset%0#0                                             array_data%0#0,item_offset%0#0
        v-load total_length%1#0                                            array_data%0#0,item_offset%0#0,total_length%1#0
        substring3                                                         extract_to_end%0#0
        v-store extract_to_end%0#0
        v-load extract_to_end%0#0                                          extract_to_end%0#0
        int 0                                                              extract_to_end%0#0,0
        extract_uint16 // on error: invalid array length header            aggregate%array_length%1#0
        v-store aggregate%array_length%1#0
        v-load aggregate%array_length%1#0                                  aggregate%array_length%1#0
        int 8                                                              aggregate%array_length%1#0,8
        *                                                                  mul%0#0
        v-store mul%0#0
        v-load mul%0#0                                                     mul%0#0
        int 2                                                              mul%0#0,2
        +                                                                  add%0#0
        v-store add%0#0
        v-load num_bytes%0#0                                               num_bytes%0#0
        v-load add%0#0                                                     num_bytes%0#0,add%0#0
        +                                                                  num_bytes%0#0
        v-store num_bytes%0#0
        v-load index%0#0                                                   index%0#0
        int 1                                                              index%0#0,1
        +                                                                  index%0#0
        v-store index%0#0
        b calculate_for_header@1

    calculate_after_for@4:
        // regression_tests/leftover_branch.py:29
        // @arc4.abimethod
        v-load num_bytes%0#0                                               num_bytes%0#0
        int 2                                                              num_bytes%0#0,2
        +                                                                  num_bytes%1#0
        v-store num_bytes%1#0
        v-load total_length%0#0                                            total_length%0#0
        v-load num_bytes%1#0                                               total_length%0#0,num_bytes%1#0
        ==                                                                 eq%0#0
        v-store eq%0#0
        v-load eq%0#0                                                      eq%0#0
        assert // invalid number of bytes for arc4.dynamic_array<arc4.dynamic_array<arc4.uint64>> 
        txna ApplicationArgs 2                                             threshold#0
        v-store threshold#0
        v-load threshold#0                                                 threshold#0
        len                                                                len%1#0
        v-store len%1#0
        v-load len%1#0                                                     len%1#0
        int 8                                                              len%1#0,8
        ==                                                                 eq%1#0
        v-store eq%1#0
        v-load eq%1#0                                                      eq%1#0
        assert // invalid number of bytes for arc4.uint64
        // regression_tests/leftover_branch.py:35
        // total = UInt64(0)
        int 0                                                              0
        v-store total#0
        // regression_tests/leftover_branch.py:36
        // num_boosts = UInt64(0)
        int 0                                                              0
        v-store num_boosts#0
        // regression_tests/leftover_branch.py:38
        // for i in urange(nested_list.length):
        int 0                                                              0
        v-store value_internal%0#0
        v-load value_internal%0#0                                          value_internal%0#0
        v-store i#0
        b calculate_for_header@6

    calculate_for_header@6:
        // regression_tests/leftover_branch.py:38
        // for i in urange(nested_list.length):
        v-load i#0                                                         i#0
        v-load aggregate%array_length%0#0                                  i#0,aggregate%array_length%0#0
        <                                                                  continue_looping%0#0
        v-store continue_looping%0#0
        v-load continue_looping%0#0                                        continue_looping%0#0
        bz calculate_after_for@19 ; b calculate_for_body@7

    calculate_for_body@7:
        // regression_tests/leftover_branch.py:39
        // inner_list = nested_list[i].copy()
        v-load continue_looping%0#0                                        continue_looping%0#0
        assert // index access is out of bounds
        v-load i#0                                                         i#0
        int 2                                                              i#0,2
        *                                                                  aggregate%item_offset_offset%0#0
        v-store aggregate%item_offset_offset%0#0
        v-load array_data%0#0                                              array_data%0#0
        v-load aggregate%item_offset_offset%0#0                            array_data%0#0,aggregate%item_offset_offset%0#0
        extract_uint16                                                     aggregate%item_offset%0#0
        v-store aggregate%item_offset%0#0
        v-load array_data%0#0                                              array_data%0#0
        v-load aggregate%item_offset%0#0                                   array_data%0#0,aggregate%item_offset%0#0
        extract_uint16                                                     aggregate%item_length%0#0
        v-store aggregate%item_length%0#0
        v-load aggregate%item_length%0#0                                   aggregate%item_length%0#0
        int 8                                                              aggregate%item_length%0#0,8
        *                                                                  aggregate%item_length_in_bytes%0#0
        v-store aggregate%item_length_in_bytes%0#0
        v-load aggregate%item_length_in_bytes%0#0                          aggregate%item_length_in_bytes%0#0
        int 2                                                              aggregate%item_length_in_bytes%0#0,2
        +                                                                  aggregate%item_head_tail_length%0#0
        v-store aggregate%item_head_tail_length%0#0
        v-load array_data%0#0                                              array_data%0#0
        v-load aggregate%item_offset%0#0                                   array_data%0#0,aggregate%item_offset%0#0
        v-load aggregate%item_head_tail_length%0#0                         array_data%0#0,aggregate%item_offset%0#0,aggregate%item_head_tail_length%0#0
        extract3                                                           inner_list#0
        v-store inner_list#0
        // regression_tests/leftover_branch.py:40
        // last_inner_list_index = inner_list.length - 1
        v-load inner_list#0                                                inner_list#0
        int 0                                                              inner_list#0,0
        extract_uint16 // on error: invalid array length header            aggregate%array_length%4#0
        v-store aggregate%array_length%4#0
        v-load aggregate%array_length%4#0                                  aggregate%array_length%4#0
        int 1                                                              aggregate%array_length%4#0,1
        -                                                                  last_inner_list_index#0
        v-store last_inner_list_index#0
        // regression_tests/leftover_branch.py:41
        // for j in urange(inner_list.length):
        int 0                                                              0
        v-store value_internal%1#0
        v-load value_internal%1#0                                          value_internal%1#0
        v-store j#0
        b calculate_for_header@8

    calculate_for_header@8:
        // regression_tests/leftover_branch.py:41
        // for j in urange(inner_list.length):
        v-load j#0                                                         j#0
        v-load aggregate%array_length%4#0                                  j#0,aggregate%array_length%4#0
        <                                                                  continue_looping%1#0
        v-store continue_looping%1#0
        v-load continue_looping%1#0                                        continue_looping%1#0
        bz calculate_after_for@17 ; b calculate_for_body@9

    calculate_for_body@9:
        // regression_tests/leftover_branch.py:42
        // value = inner_list[j]
        v-load inner_list#0                                                inner_list#0
        extract 2 0                                                        aggregate%array_trimmed%0#0
        v-store aggregate%array_trimmed%0#0
        v-load j#0                                                         j#0
        int 8                                                              j#0,8
        *                                                                  aggregate%bytes_offset%0#0
        v-store aggregate%bytes_offset%0#0
        v-load aggregate%array_trimmed%0#0                                 aggregate%array_trimmed%0#0
        v-load aggregate%bytes_offset%0#0                                  aggregate%array_trimmed%0#0,aggregate%bytes_offset%0#0
        int 8                                                              aggregate%array_trimmed%0#0,aggregate%bytes_offset%0#0,8
        extract3 // on error: index access is out of bounds                value#0
        v-store value#0
        // regression_tests/leftover_branch.py:43
        // if value >= threshold:
        v-load value#0                                                     value#0
        v-load threshold#0                                                 value#0,threshold#0
        b>=                                                                tmp%4#0
        v-store tmp%4#0
        v-load tmp%4#0                                                     tmp%4#0
        bz calculate_after_if_else@15 ; b calculate_if_body@10

    calculate_if_body@10:
        // regression_tests/leftover_branch.py:44
        // has_next = j < last_inner_list_index
        v-load j#0                                                         j#0
        v-load last_inner_list_index#0                                     j#0,last_inner_list_index#0
        <                                                                  has_next#0
        v-store has_next#0
        // regression_tests/leftover_branch.py:45
        // if has_next:
        v-load has_next#0                                                  has_next#0
        bz calculate_after_if_else@15 ; b calculate_if_body@11

    calculate_if_body@11:
        // regression_tests/leftover_branch.py:46
        // total += 1
        v-load total#0                                                     total#0
        int 1                                                              total#0,1
        +                                                                  total#0
        v-store total#0
        // regression_tests/leftover_branch.py:47
        // next_value = inner_list[j + 1]
        v-load j#0                                                         j#0
        int 1                                                              j#0,1
        +                                                                  tmp%7#0
        v-store tmp%7#0
        v-load tmp%7#0                                                     tmp%7#0
        int 8                                                              tmp%7#0,8
        *                                                                  aggregate%bytes_offset%1#0
        v-store aggregate%bytes_offset%1#0
        v-load aggregate%array_trimmed%0#0                                 aggregate%array_trimmed%0#0
        v-load aggregate%bytes_offset%1#0                                  aggregate%array_trimmed%0#0,aggregate%bytes_offset%1#0
        int 8                                                              aggregate%array_trimmed%0#0,aggregate%bytes_offset%1#0,8
        extract3 // on error: index access is out of bounds                next_value#0
        v-store next_value#0
        // regression_tests/leftover_branch.py:48
        // if value < next_value:
        v-load value#0                                                     value#0
        v-load next_value#0                                                value#0,next_value#0
        b<                                                                 tmp%8#0
        v-store tmp%8#0
        v-load tmp%8#0                                                     tmp%8#0
        bz calculate_after_if_else@15 ; b calculate_if_body@12

    calculate_if_body@12:
        // regression_tests/leftover_branch.py:49
        // total *= 2
        v-load total#0                                                     total#0
        int 2                                                              total#0,2
        *                                                                  total#0
        v-store total#0
        // regression_tests/leftover_branch.py:50
        // num_boosts += 1
        v-load num_boosts#0                                                num_boosts#0
        int 1                                                              num_boosts#0,1
        +                                                                  num_boosts#0
        v-store num_boosts#0
        b calculate_after_if_else@15

    calculate_after_if_else@15:
        // regression_tests/leftover_branch.py:41
        // for j in urange(inner_list.length):
        v-load j#0                                                         j#0
        int 1                                                              j#0,1
        +                                                                  value_internal%1#0
        v-store value_internal%1#0
        v-load value_internal%1#0                                          value_internal%1#0
        v-store j#0
        b calculate_for_header@8

    calculate_after_for@17:
        // regression_tests/leftover_branch.py:38
        // for i in urange(nested_list.length):
        v-load i#0                                                         i#0
        int 1                                                              i#0,1
        +                                                                  value_internal%0#0
        v-store value_internal%0#0
        v-load value_internal%0#0                                          value_internal%0#0
        v-store i#0
        b calculate_for_header@6

    calculate_after_for@19:
        // regression_tests/leftover_branch.py:29
        // @arc4.abimethod
        int 1                                                              1
        return



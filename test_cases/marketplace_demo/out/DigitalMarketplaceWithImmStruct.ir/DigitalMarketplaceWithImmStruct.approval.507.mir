// Op                                                                                                 Stack (out)
// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.__algopy_entrypoint_with_init() -> uint64:
subroutine main:
    main_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:78
        // @arc4.abimethod(readonly=True, name="getListingsMbr")
        int 1                                                                                         lifted%return#0
        f-store lifted%return#0                                                                       (𝕗) lifted%return#0 |
        txn ApplicationID                                                                             (𝕗) lifted%return#0 | tmp%0#0
        bz main_call___init__@1 ; b main_after_if_else@2                                              (𝕗) lifted%return#0 |

    main_call___init__@1:                                                                             (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:39
        // log("init")
        byte "init"                                                                                   (𝕗) lifted%return#0 | "init"
        log                                                                                           (𝕗) lifted%return#0 |
        b main_after_if_else@2                                                                        (𝕗) lifted%return#0 |

    main_after_if_else@2:                                                                             (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:37
        // class DigitalMarketplaceWithImmStruct(arc4.ARC4Contract):
        txn NumAppArgs                                                                                (𝕗) lifted%return#0 | tmp%0#2
        bz main___algopy_default_create@16 ; b main_abi_routing@4                                     (𝕗) lifted%return#0 |

    main_abi_routing@4:                                                                               (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:37
        // class DigitalMarketplaceWithImmStruct(arc4.ARC4Contract):
        txn OnCompletion                                                                              (𝕗) lifted%return#0 | tmp%2#0
        !                                                                                             (𝕗) lifted%return#0 | tmp%3#0
        assert // OnCompletion is not NoOp                                                            (𝕗) lifted%return#0 |
        txn ApplicationID                                                                             (𝕗) lifted%return#0 | tmp%4#0
        assert                                                                                        (𝕗) lifted%return#0 |
        txna ApplicationArgs 0                                                                        (𝕗) lifted%return#0 | tmp%5#0
        method getListingsMbr()uint64                                                                 (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64)
        method allowAsset(pay,uint64)void                                                             (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void)
        method firstDeposit(pay,axfer,uint64,uint64)void                                              (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void),Method(firstDeposit(pay,axfer,uint64,uint64)void)
        method deposit(axfer,uint64)void                                                              (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void),Method(firstDeposit(pay,axfer,uint64,uint64)void),Method(deposit(axfer,uint64)void)
        method setPrice(uint64,uint64,uint64)void                                                     (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void),Method(firstDeposit(pay,axfer,uint64,uint64)void),Method(deposit(axfer,uint64)void),Method(setPrice(uint64,uint64,uint64)void)
        method buy(address,uint64,uint64,pay,uint64)void                                              (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void),Method(firstDeposit(pay,axfer,uint64,uint64)void),Method(deposit(axfer,uint64)void),Method(setPrice(uint64,uint64,uint64)void),Method(buy(address,uint64,uint64,pay,uint64)void)
        method withdraw(uint64,uint64)void                                                            (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void),Method(firstDeposit(pay,axfer,uint64,uint64)void),Method(deposit(axfer,uint64)void),Method(setPrice(uint64,uint64,uint64)void),Method(buy(address,uint64,uint64,pay,uint64)void),Method(withdraw(uint64,uint64)void)
        method bid(address,uint64,uint64,pay,uint64,uint64)void                                       (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void),Method(firstDeposit(pay,axfer,uint64,uint64)void),Method(deposit(axfer,uint64)void),Method(setPrice(uint64,uint64,uint64)void),Method(buy(address,uint64,uint64,pay,uint64)void),Method(withdraw(uint64,uint64)void),Method(bid(address,uint64,uint64,pay,uint64,uint64)void)
        method acceptBid(uint64,uint64)void                                                           (𝕗) lifted%return#0 | tmp%5#0,Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void),Method(firstDeposit(pay,axfer,uint64,uint64)void),Method(deposit(axfer,uint64)void),Method(setPrice(uint64,uint64,uint64)void),Method(buy(address,uint64,uint64,pay,uint64)void),Method(withdraw(uint64,uint64)void),Method(bid(address,uint64,uint64,pay,uint64,uint64)void),Method(acceptBid(uint64,uint64)void)
        l-load tmp%5#0 9                                                                              (𝕗) lifted%return#0 | Method(getListingsMbr()uint64),Method(allowAsset(pay,uint64)void),Method(firstDeposit(pay,axfer,uint64,uint64)void),Method(deposit(axfer,uint64)void),Method(setPrice(uint64,uint64,uint64)void),Method(buy(address,uint64,uint64,pay,uint64)void),Method(withdraw(uint64,uint64)void),Method(bid(address,uint64,uint64,pay,uint64,uint64)void),Method(acceptBid(uint64,uint64)void),tmp%5#0
        match main_getListingsMbr_route@6 main_allowAsset_route@7 main_firstDeposit_route@8 main_deposit_route@9 main_setPrice_route@10 main_buy_route@11 main_withdraw_route@12 main_bid_route@13 main_acceptBid_route@14 ; b main_after_if_else@15 (𝕗) lifted%return#0 | 

    main_getListingsMbr_route@6:                                                                      (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:78
        // @arc4.abimethod(readonly=True, name="getListingsMbr")
        byte 0x151f7c75000000000000c544                                                               (𝕗) lifted%return#0 | 0x151f7c75000000000000c544
        log                                                                                           (𝕗) lifted%return#0 |
        f-load lifted%return#0                                                                        (𝕗) lifted%return#0 | lifted%return#0
        return                                                                                        (𝕗) lifted%return#0 |

    main_allowAsset_route@7:                                                                          (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:82
        // @arc4.abimethod(name="allowAsset")
        callsub allow_asset                                                                           (𝕗) lifted%return#0 |
        b main_after_if_else@15                                                                       (𝕗) lifted%return#0 |

    main_firstDeposit_route@8:                                                                        (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:93
        // @arc4.abimethod(name="firstDeposit")
        callsub first_deposit                                                                         (𝕗) lifted%return#0 |
        b main_after_if_else@15                                                                       (𝕗) lifted%return#0 |

    main_deposit_route@9:                                                                             (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:120
        // @arc4.abimethod
        callsub deposit                                                                               (𝕗) lifted%return#0 |
        b main_after_if_else@15                                                                       (𝕗) lifted%return#0 |

    main_setPrice_route@10:                                                                           (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:137
        // @arc4.abimethod(name="setPrice")
        callsub set_price                                                                             (𝕗) lifted%return#0 |
        b main_after_if_else@15                                                                       (𝕗) lifted%return#0 |

    main_buy_route@11:                                                                                (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:150
        // @arc4.abimethod
        callsub buy                                                                                   (𝕗) lifted%return#0 |
        b main_after_if_else@15                                                                       (𝕗) lifted%return#0 |

    main_withdraw_route@12:                                                                           (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:181
        // @arc4.abimethod
        callsub withdraw                                                                              (𝕗) lifted%return#0 |
        b main_after_if_else@15                                                                       (𝕗) lifted%return#0 |

    main_bid_route@13:                                                                                (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:200
        // @arc4.abimethod
        callsub bid                                                                                   (𝕗) lifted%return#0 |
        b main_after_if_else@15                                                                       (𝕗) lifted%return#0 |

    main_acceptBid_route@14:                                                                          (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:236
        // @arc4.abimethod(name="acceptBid")
        callsub accept_bid                                                                            (𝕗) lifted%return#0 |
        b main_after_if_else@15                                                                       (𝕗) lifted%return#0 |

    main_after_if_else@15:                                                                            (𝕗) lifted%return#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:37
        // class DigitalMarketplaceWithImmStruct(arc4.ARC4Contract):
        err                                                                                           (𝕗) lifted%return#0 |

    main___algopy_default_create@16:                                                                  (𝕗) lifted%return#0 |
        txn OnCompletion                                                                              (𝕗) lifted%return#0 | tmp%6#0
        !                                                                                             (𝕗) lifted%return#0 | tmp%7#0
        txn ApplicationID                                                                             (𝕗) lifted%return#0 | tmp%7#0,tmp%8#0
        !                                                                                             (𝕗) lifted%return#0 | tmp%7#0,tmp%9#0
        l-load tmp%7#0 1                                                                              (𝕗) lifted%return#0 | tmp%9#0,tmp%7#0
        l-load tmp%9#0 1                                                                              (𝕗) lifted%return#0 | tmp%7#0,tmp%9#0
        &&                                                                                            (𝕗) lifted%return#0 | tmp%10#0
        assert // OnCompletion must be NoOp && can only call when creating                            (𝕗) lifted%return#0 |
        f-load lifted%return#0                                                                        (𝕗) lifted%return#0 | lifted%return#0
        return                                                                                        (𝕗) lifted%return#0 |


// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.allow_asset[routing]() -> void:
subroutine allow_asset:
    allow_asset_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:82
        // @arc4.abimethod(name="allowAsset")
        txn GroupIndex                                                                                tmp%0#0
        int 1                                                                                         tmp%0#0,1
        -                                                                                             mbr_pay#0
        l-load-copy mbr_pay#0 0                                                                       mbr_pay#0,mbr_pay#0 (copy)
        gtxns TypeEnum                                                                                mbr_pay#0,gtxn_type%0#0
        int pay                                                                                       mbr_pay#0,gtxn_type%0#0,pay
        ==                                                                                            mbr_pay#0,gtxn_type_matches%0#0
        assert // transaction type is pay                                                             mbr_pay#0
        txna ApplicationArgs 1                                                                        mbr_pay#0,reinterpret_Encoded(uint64)%0#0
        btoi                                                                                          mbr_pay#0,asset#0
        // marketplace_demo/marketplace_with_immutable_struct.py:84
        // assert not Global.current_application_address.is_opted_in(asset)
        global CurrentApplicationAddress                                                              mbr_pay#0,asset#0,tmp%0#1
        l-load-copy asset#0 1                                                                         mbr_pay#0,asset#0,tmp%0#1,asset#0 (copy)
        asset_holding_get AssetBalance                                                                mbr_pay#0,asset#0,tmp%1#1,tmp%2#0
        l-store tmp%2#0 1                                                                             mbr_pay#0,asset#0,tmp%2#0,tmp%1#1
        pop 1                                                                                         mbr_pay#0,asset#0,tmp%2#0
        l-load tmp%2#0 0                                                                              mbr_pay#0,asset#0,tmp%2#0
        !                                                                                             mbr_pay#0,asset#0,tmp%3#0
        assert                                                                                        mbr_pay#0,asset#0
        // marketplace_demo/marketplace_with_immutable_struct.py:86
        // assert mbr_pay.receiver == Global.current_application_address
        l-load-copy mbr_pay#0 1                                                                       mbr_pay#0,asset#0,mbr_pay#0 (copy)
        gtxns Receiver                                                                                mbr_pay#0,asset#0,tmp%4#0
        global CurrentApplicationAddress                                                              mbr_pay#0,asset#0,tmp%4#0,tmp%5#0
        l-load tmp%4#0 1                                                                              mbr_pay#0,asset#0,tmp%5#0,tmp%4#0
        l-load tmp%5#0 1                                                                              mbr_pay#0,asset#0,tmp%4#0,tmp%5#0
        ==                                                                                            mbr_pay#0,asset#0,tmp%6#0
        assert                                                                                        mbr_pay#0,asset#0
        // marketplace_demo/marketplace_with_immutable_struct.py:87
        // assert mbr_pay.amount == Global.asset_opt_in_min_balance
        l-load mbr_pay#0 1                                                                            asset#0,mbr_pay#0
        gtxns Amount                                                                                  asset#0,tmp%7#0
        global AssetOptInMinBalance                                                                   asset#0,tmp%7#0,tmp%8#0
        l-load tmp%7#0 1                                                                              asset#0,tmp%8#0,tmp%7#0
        l-load tmp%8#0 1                                                                              asset#0,tmp%7#0,tmp%8#0
        ==                                                                                            asset#0,tmp%9#0
        assert                                                                                        asset#0
        // marketplace_demo/marketplace_with_immutable_struct.py:89-91
        // itxn.AssetTransfer(
        //     xfer_asset=asset, asset_receiver=Global.current_application_address, asset_amount=0
        // ).submit()
        itxn_begin                                                                                    asset#0
        // marketplace_demo/marketplace_with_immutable_struct.py:90
        // xfer_asset=asset, asset_receiver=Global.current_application_address, asset_amount=0
        global CurrentApplicationAddress                                                              asset#0,inner_txn_params%0%%param_AssetReceiver_idx_0#0
        int 0                                                                                         asset#0,inner_txn_params%0%%param_AssetReceiver_idx_0#0,0
        itxn_field AssetAmount                                                                        asset#0,inner_txn_params%0%%param_AssetReceiver_idx_0#0
        l-load inner_txn_params%0%%param_AssetReceiver_idx_0#0 0                                      asset#0,inner_txn_params%0%%param_AssetReceiver_idx_0#0
        itxn_field AssetReceiver                                                                      asset#0
        l-load asset#0 0                                                                              asset#0
        itxn_field XferAsset
        // marketplace_demo/marketplace_with_immutable_struct.py:89
        // itxn.AssetTransfer(
        int axfer                                                                                     axfer
        itxn_field TypeEnum
        int 0                                                                                         0
        itxn_field Fee
        // marketplace_demo/marketplace_with_immutable_struct.py:89-91
        // itxn.AssetTransfer(
        //     xfer_asset=asset, asset_receiver=Global.current_application_address, asset_amount=0
        // ).submit()
        itxn_submit
        // marketplace_demo/marketplace_with_immutable_struct.py:82
        // @arc4.abimethod(name="allowAsset")
        int 1                                                                                         1
        return


// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.first_deposit[routing]() -> void:
subroutine first_deposit:
    first_deposit_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:93
        // @arc4.abimethod(name="firstDeposit")
        txn GroupIndex                                                                                tmp%0#0
        int 2                                                                                         tmp%0#0,2
        -                                                                                             mbr_pay#0
        l-load-copy mbr_pay#0 0                                                                       mbr_pay#0,mbr_pay#0 (copy)
        gtxns TypeEnum                                                                                mbr_pay#0,gtxn_type%0#0
        int pay                                                                                       mbr_pay#0,gtxn_type%0#0,pay
        ==                                                                                            mbr_pay#0,gtxn_type_matches%0#0
        assert // transaction type is pay                                                             mbr_pay#0
        txn GroupIndex                                                                                mbr_pay#0,tmp%1#0
        int 1                                                                                         mbr_pay#0,tmp%1#0,1
        -                                                                                             mbr_pay#0,xfer#0
        l-load-copy xfer#0 0                                                                          mbr_pay#0,xfer#0,xfer#0 (copy)
        gtxns TypeEnum                                                                                mbr_pay#0,xfer#0,gtxn_type%1#0
        int axfer                                                                                     mbr_pay#0,xfer#0,gtxn_type%1#0,axfer
        ==                                                                                            mbr_pay#0,xfer#0,gtxn_type_matches%1#0
        assert // transaction type is axfer                                                           mbr_pay#0,xfer#0
        txna ApplicationArgs 1                                                                        mbr_pay#0,xfer#0,reinterpret_Encoded(uint64)%0#0
        btoi                                                                                          mbr_pay#0,xfer#0,unitary_price#0
        txna ApplicationArgs 2                                                                        mbr_pay#0,xfer#0,unitary_price#0,reinterpret_Encoded(uint64)%1#0
        btoi                                                                                          mbr_pay#0,xfer#0,unitary_price#0,nonce#0
        // marketplace_demo/marketplace_with_immutable_struct.py:101
        // assert mbr_pay.sender == Txn.sender
        l-load-copy mbr_pay#0 3                                                                       mbr_pay#0,xfer#0,unitary_price#0,nonce#0,mbr_pay#0 (copy)
        gtxns Sender                                                                                  mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%0#1
        txn Sender                                                                                    mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%0#1,tmp%1#1
        l-load tmp%0#1 1                                                                              mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%1#1,tmp%0#1
        l-load tmp%1#1 1                                                                              mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%0#1,tmp%1#1
        ==                                                                                            mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%2#1
        assert                                                                                        mbr_pay#0,xfer#0,unitary_price#0,nonce#0
        // marketplace_demo/marketplace_with_immutable_struct.py:102
        // assert mbr_pay.receiver == Global.current_application_address
        l-load-copy mbr_pay#0 3                                                                       mbr_pay#0,xfer#0,unitary_price#0,nonce#0,mbr_pay#0 (copy)
        gtxns Receiver                                                                                mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%3#1
        global CurrentApplicationAddress                                                              mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%3#1,tmp%4#0
        l-load tmp%3#1 1                                                                              mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%4#0,tmp%3#1
        l-load tmp%4#0 1                                                                              mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%3#1,tmp%4#0
        ==                                                                                            mbr_pay#0,xfer#0,unitary_price#0,nonce#0,tmp%5#0
        assert                                                                                        mbr_pay#0,xfer#0,unitary_price#0,nonce#0
        // marketplace_demo/marketplace_with_immutable_struct.py:103
        // assert mbr_pay.amount == self.listings_box_mbr()
        l-load mbr_pay#0 3                                                                            xfer#0,unitary_price#0,nonce#0,mbr_pay#0
        gtxns Amount                                                                                  xfer#0,unitary_price#0,nonce#0,tmp%6#0
        // marketplace_demo/marketplace_with_immutable_struct.py:44-65
        // return UInt64(
        //     2_500
        //     +
        //     # fmt: off
        //     # Key length
        //     (
        //         8
        //         + 32
        //         + 8
        //         + 8
        //         +
        //         # Value length
        //         8
        //         + 8
        //         + 32
        //         + 8
        //         + 8
        //     )
        //     *
        //     # fmt: on
        //     400
        // )
        int 50500                                                                                     xfer#0,unitary_price#0,nonce#0,tmp%6#0,50500
        // marketplace_demo/marketplace_with_immutable_struct.py:103
        // assert mbr_pay.amount == self.listings_box_mbr()
        ==                                                                                            xfer#0,unitary_price#0,nonce#0,tmp%8#0
        assert                                                                                        xfer#0,unitary_price#0,nonce#0
        // marketplace_demo/marketplace_with_immutable_struct.py:105
        // key = ListingKey(owner=Txn.sender, asset=xfer.xfer_asset.id, nonce=nonce)
        txn Sender                                                                                    xfer#0,unitary_price#0,nonce#0,tmp%9#0
        l-load-copy xfer#0 3                                                                          xfer#0,unitary_price#0,nonce#0,tmp%9#0,xfer#0 (copy)
        gtxns XferAsset                                                                               xfer#0,unitary_price#0,nonce#0,tmp%9#0,tmp%10#0
        itob                                                                                          xfer#0,unitary_price#0,nonce#0,tmp%9#0,aggregate%val_as_bytes%0#0
        l-load tmp%9#0 1                                                                              xfer#0,unitary_price#0,nonce#0,aggregate%val_as_bytes%0#0,tmp%9#0
        l-load aggregate%val_as_bytes%0#0 1                                                           xfer#0,unitary_price#0,nonce#0,tmp%9#0,aggregate%val_as_bytes%0#0
        concat                                                                                        xfer#0,unitary_price#0,nonce#0,aggregate%head%1#0
        l-load nonce#0 1                                                                              xfer#0,unitary_price#0,aggregate%head%1#0,nonce#0
        itob                                                                                          xfer#0,unitary_price#0,aggregate%head%1#0,aggregate%val_as_bytes%1#0
        l-load aggregate%head%1#0 1                                                                   xfer#0,unitary_price#0,aggregate%val_as_bytes%1#0,aggregate%head%1#0
        l-load aggregate%val_as_bytes%1#0 1                                                           xfer#0,unitary_price#0,aggregate%head%1#0,aggregate%val_as_bytes%1#0
        concat                                                                                        xfer#0,unitary_price#0,key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:106
        // assert key not in self.listings
        byte 0x6c697374696e6773                                                                       xfer#0,unitary_price#0,key#0,0x6c697374696e6773
        l-load key#0 1                                                                                xfer#0,unitary_price#0,0x6c697374696e6773,key#0
        concat                                                                                        xfer#0,unitary_price#0,box_prefixed_key%0#0
        l-load-copy box_prefixed_key%0#0 0                                                            xfer#0,unitary_price#0,box_prefixed_key%0#0,box_prefixed_key%0#0 (copy)
        box_len                                                                                       xfer#0,unitary_price#0,box_prefixed_key%0#0,_%0#0,maybe_exists%0#0
        l-store maybe_exists%0#0 1                                                                    xfer#0,unitary_price#0,box_prefixed_key%0#0,maybe_exists%0#0,_%0#0
        pop 1                                                                                         xfer#0,unitary_price#0,box_prefixed_key%0#0,maybe_exists%0#0
        l-load maybe_exists%0#0 0                                                                     xfer#0,unitary_price#0,box_prefixed_key%0#0,maybe_exists%0#0
        !                                                                                             xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%12#0
        assert                                                                                        xfer#0,unitary_price#0,box_prefixed_key%0#0
        // marketplace_demo/marketplace_with_immutable_struct.py:108
        // assert xfer.sender == Txn.sender
        l-load-copy xfer#0 2                                                                          xfer#0,unitary_price#0,box_prefixed_key%0#0,xfer#0 (copy)
        gtxns Sender                                                                                  xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%13#0
        txn Sender                                                                                    xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%13#0,tmp%14#0
        l-load tmp%13#0 1                                                                             xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%14#0,tmp%13#0
        l-load tmp%14#0 1                                                                             xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%13#0,tmp%14#0
        ==                                                                                            xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%15#0
        assert                                                                                        xfer#0,unitary_price#0,box_prefixed_key%0#0
        // marketplace_demo/marketplace_with_immutable_struct.py:109
        // assert xfer.asset_receiver == Global.current_application_address
        l-load-copy xfer#0 2                                                                          xfer#0,unitary_price#0,box_prefixed_key%0#0,xfer#0 (copy)
        gtxns AssetReceiver                                                                           xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%16#0
        global CurrentApplicationAddress                                                              xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%16#0,tmp%17#0
        l-load tmp%16#0 1                                                                             xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%17#0,tmp%16#0
        l-load tmp%17#0 1                                                                             xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%16#0,tmp%17#0
        ==                                                                                            xfer#0,unitary_price#0,box_prefixed_key%0#0,tmp%18#0
        assert                                                                                        xfer#0,unitary_price#0,box_prefixed_key%0#0
        // marketplace_demo/marketplace_with_immutable_struct.py:110
        // assert xfer.asset_amount > 0
        l-load xfer#0 2                                                                               unitary_price#0,box_prefixed_key%0#0,xfer#0
        gtxns AssetAmount                                                                             unitary_price#0,box_prefixed_key%0#0,tmp%19#0
        l-load-copy tmp%19#0 0                                                                        unitary_price#0,box_prefixed_key%0#0,tmp%19#0,tmp%19#0 (copy)
        assert                                                                                        unitary_price#0,box_prefixed_key%0#0,tmp%19#0
        // marketplace_demo/marketplace_with_immutable_struct.py:115
        // bidder=Account(),
        global ZeroAddress                                                                            unitary_price#0,box_prefixed_key%0#0,tmp%19#0,tmp%22#0
        // marketplace_demo/marketplace_with_immutable_struct.py:112-118
        // self.listings[key] = ListingValue(
        //     deposited=xfer.asset_amount,
        //     unitaryPrice=unitary_price,
        //     bidder=Account(),
        //     bid=UInt64(),
        //     bidUnitaryPrice=UInt64(),
        // )
        l-load tmp%19#0 1                                                                             unitary_price#0,box_prefixed_key%0#0,tmp%22#0,tmp%19#0
        itob                                                                                          unitary_price#0,box_prefixed_key%0#0,tmp%22#0,aggregate%val_as_bytes%2#0
        l-load unitary_price#0 3                                                                      box_prefixed_key%0#0,tmp%22#0,aggregate%val_as_bytes%2#0,unitary_price#0
        itob                                                                                          box_prefixed_key%0#0,tmp%22#0,aggregate%val_as_bytes%2#0,aggregate%val_as_bytes%3#0
        l-load aggregate%val_as_bytes%2#0 1                                                           box_prefixed_key%0#0,tmp%22#0,aggregate%val_as_bytes%3#0,aggregate%val_as_bytes%2#0
        l-load aggregate%val_as_bytes%3#0 1                                                           box_prefixed_key%0#0,tmp%22#0,aggregate%val_as_bytes%2#0,aggregate%val_as_bytes%3#0
        concat                                                                                        box_prefixed_key%0#0,tmp%22#0,aggregate%head%4#0
        l-load tmp%22#0 1                                                                             box_prefixed_key%0#0,aggregate%head%4#0,tmp%22#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%head%5#0
        // marketplace_demo/marketplace_with_immutable_struct.py:116
        // bid=UInt64(),
        int 0                                                                                         box_prefixed_key%0#0,aggregate%head%5#0,0
        // marketplace_demo/marketplace_with_immutable_struct.py:112-118
        // self.listings[key] = ListingValue(
        //     deposited=xfer.asset_amount,
        //     unitaryPrice=unitary_price,
        //     bidder=Account(),
        //     bid=UInt64(),
        //     bidUnitaryPrice=UInt64(),
        // )
        itob                                                                                          box_prefixed_key%0#0,aggregate%head%5#0,aggregate%val_as_bytes%4#0
        l-load aggregate%head%5#0 1                                                                   box_prefixed_key%0#0,aggregate%val_as_bytes%4#0,aggregate%head%5#0
        l-load-copy aggregate%val_as_bytes%4#0 1                                                      box_prefixed_key%0#0,aggregate%val_as_bytes%4#0,aggregate%head%5#0,aggregate%val_as_bytes%4#0 (copy)
        concat                                                                                        box_prefixed_key%0#0,aggregate%val_as_bytes%4#0,aggregate%head%6#0
        l-load aggregate%val_as_bytes%4#0 1                                                           box_prefixed_key%0#0,aggregate%head%6#0,aggregate%val_as_bytes%4#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%head%7#0
        l-load box_prefixed_key%0#0 1                                                                 aggregate%head%7#0,box_prefixed_key%0#0
        l-load aggregate%head%7#0 1                                                                   box_prefixed_key%0#0,aggregate%head%7#0
        box_put
        // marketplace_demo/marketplace_with_immutable_struct.py:93
        // @arc4.abimethod(name="firstDeposit")
        int 1                                                                                         1
        return


// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.deposit[routing]() -> void:
subroutine deposit:
    deposit_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:120
        // @arc4.abimethod
        txn GroupIndex                                                                                tmp%0#0
        int 1                                                                                         tmp%0#0,1
        -                                                                                             xfer#0
        l-load-copy xfer#0 0                                                                          xfer#0,xfer#0 (copy)
        gtxns TypeEnum                                                                                xfer#0,gtxn_type%0#0
        int axfer                                                                                     xfer#0,gtxn_type%0#0,axfer
        ==                                                                                            xfer#0,gtxn_type_matches%0#0
        assert // transaction type is axfer                                                           xfer#0
        txna ApplicationArgs 1                                                                        xfer#0,reinterpret_Encoded(uint64)%0#0
        btoi                                                                                          xfer#0,nonce#0
        // marketplace_demo/marketplace_with_immutable_struct.py:122
        // key = ListingKey(owner=Txn.sender, asset=xfer.xfer_asset.id, nonce=nonce)
        txn Sender                                                                                    xfer#0,nonce#0,tmp%0#1
        l-load-copy xfer#0 2                                                                          xfer#0,nonce#0,tmp%0#1,xfer#0 (copy)
        gtxns XferAsset                                                                               xfer#0,nonce#0,tmp%0#1,tmp%1#1
        itob                                                                                          xfer#0,nonce#0,tmp%0#1,aggregate%val_as_bytes%0#0
        l-load tmp%0#1 1                                                                              xfer#0,nonce#0,aggregate%val_as_bytes%0#0,tmp%0#1
        l-load aggregate%val_as_bytes%0#0 1                                                           xfer#0,nonce#0,tmp%0#1,aggregate%val_as_bytes%0#0
        concat                                                                                        xfer#0,nonce#0,aggregate%head%1#0
        l-load nonce#0 1                                                                              xfer#0,aggregate%head%1#0,nonce#0
        itob                                                                                          xfer#0,aggregate%head%1#0,aggregate%val_as_bytes%1#0
        l-load aggregate%head%1#0 1                                                                   xfer#0,aggregate%val_as_bytes%1#0,aggregate%head%1#0
        l-load aggregate%val_as_bytes%1#0 1                                                           xfer#0,aggregate%head%1#0,aggregate%val_as_bytes%1#0
        concat                                                                                        xfer#0,key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:124
        // assert xfer.sender == Txn.sender
        l-load-copy xfer#0 1                                                                          xfer#0,key#0,xfer#0 (copy)
        gtxns Sender                                                                                  xfer#0,key#0,tmp%3#0
        txn Sender                                                                                    xfer#0,key#0,tmp%3#0,tmp%4#0
        l-load tmp%3#0 1                                                                              xfer#0,key#0,tmp%4#0,tmp%3#0
        l-load tmp%4#0 1                                                                              xfer#0,key#0,tmp%3#0,tmp%4#0
        ==                                                                                            xfer#0,key#0,tmp%5#0
        assert                                                                                        xfer#0,key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:125
        // assert xfer.asset_receiver == Global.current_application_address
        l-load-copy xfer#0 1                                                                          xfer#0,key#0,xfer#0 (copy)
        gtxns AssetReceiver                                                                           xfer#0,key#0,tmp%6#0
        global CurrentApplicationAddress                                                              xfer#0,key#0,tmp%6#0,tmp%7#0
        l-load tmp%6#0 1                                                                              xfer#0,key#0,tmp%7#0,tmp%6#0
        l-load tmp%7#0 1                                                                              xfer#0,key#0,tmp%6#0,tmp%7#0
        ==                                                                                            xfer#0,key#0,tmp%8#0
        assert                                                                                        xfer#0,key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:126
        // assert xfer.asset_amount > 0
        l-load xfer#0 1                                                                               key#0,xfer#0
        gtxns AssetAmount                                                                             key#0,tmp%9#0
        l-load-copy tmp%9#0 0                                                                         key#0,tmp%9#0,tmp%9#0 (copy)
        assert                                                                                        key#0,tmp%9#0
        // marketplace_demo/marketplace_with_immutable_struct.py:128
        // existing = self.listings[key]
        byte 0x6c697374696e6773                                                                       key#0,tmp%9#0,0x6c697374696e6773
        l-load key#0 2                                                                                tmp%9#0,0x6c697374696e6773,key#0
        concat                                                                                        tmp%9#0,box_prefixed_key%0#0
        l-load-copy box_prefixed_key%0#0 0                                                            tmp%9#0,box_prefixed_key%0#0,box_prefixed_key%0#0 (copy)
        box_get                                                                                       tmp%9#0,box_prefixed_key%0#0,existing#0,aggregate%box_get%1#0
        assert // check self.listings entry exists                                                    tmp%9#0,box_prefixed_key%0#0,existing#0
        // marketplace_demo/marketplace_with_immutable_struct.py:130
        // bid=existing.bid,
        l-load-copy existing#0 0                                                                      tmp%9#0,box_prefixed_key%0#0,existing#0,existing#0 (copy)
        extract 48 8                                                                                  tmp%9#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0
        // marketplace_demo/marketplace_with_immutable_struct.py:131
        // bidUnitaryPrice=existing.bidUnitaryPrice,
        l-load-copy existing#0 1                                                                      tmp%9#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,existing#0 (copy)
        extract 56 8                                                                                  tmp%9#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,aggregate%extract%1#0
        // marketplace_demo/marketplace_with_immutable_struct.py:132
        // bidder=existing.bidder,
        l-load-copy existing#0 2                                                                      tmp%9#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,aggregate%extract%1#0,existing#0 (copy)
        extract 16 32                                                                                 tmp%9#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0
        // marketplace_demo/marketplace_with_immutable_struct.py:133
        // unitaryPrice=existing.unitaryPrice,
        l-load-copy existing#0 3                                                                      tmp%9#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,existing#0 (copy)
        extract 8 8                                                                                   tmp%9#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0
        // marketplace_demo/marketplace_with_immutable_struct.py:134
        // deposited=existing.deposited + xfer.asset_amount,
        l-load existing#0 4                                                                           tmp%9#0,box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,existing#0
        int 0                                                                                         tmp%9#0,box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,existing#0,0
        extract_uint64                                                                                tmp%9#0,box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,values%4#0
        l-load tmp%9#0 6                                                                              box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,values%4#0,tmp%9#0
        +                                                                                             box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,tmp%12#0
        // marketplace_demo/marketplace_with_immutable_struct.py:129-135
        // self.listings[key] = ListingValue(
        //     bid=existing.bid,
        //     bidUnitaryPrice=existing.bidUnitaryPrice,
        //     bidder=existing.bidder,
        //     unitaryPrice=existing.unitaryPrice,
        //     deposited=existing.deposited + xfer.asset_amount,
        // )
        itob                                                                                          box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%val_as_bytes%2#0
        l-load aggregate%extract%3#0 1                                                                box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%val_as_bytes%2#0,aggregate%extract%3#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%head%4#0
        l-load aggregate%extract%2#0 1                                                                box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%head%4#0,aggregate%extract%2#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%head%5#0
        l-load aggregate%extract%0#0 2                                                                box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%head%5#0,aggregate%extract%0#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%head%6#0
        l-load aggregate%extract%1#0 1                                                                box_prefixed_key%0#0,aggregate%head%6#0,aggregate%extract%1#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%head%7#0
        l-load box_prefixed_key%0#0 1                                                                 aggregate%head%7#0,box_prefixed_key%0#0
        l-load aggregate%head%7#0 1                                                                   box_prefixed_key%0#0,aggregate%head%7#0
        box_put
        // marketplace_demo/marketplace_with_immutable_struct.py:120
        // @arc4.abimethod
        int 1                                                                                         1
        return


// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.set_price[routing]() -> void:
subroutine set_price:
    set_price_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:137
        // @arc4.abimethod(name="setPrice")
        txna ApplicationArgs 1                                                                        reinterpret_Encoded(uint64)%0#0
        btoi                                                                                          asset#0
        txna ApplicationArgs 2                                                                        asset#0,reinterpret_Encoded(uint64)%1#0
        btoi                                                                                          asset#0,nonce#0
        txna ApplicationArgs 3                                                                        asset#0,nonce#0,reinterpret_Encoded(uint64)%2#0
        btoi                                                                                          asset#0,nonce#0,unitary_price#0
        // marketplace_demo/marketplace_with_immutable_struct.py:139
        // key = ListingKey(owner=Txn.sender, asset=asset.id, nonce=nonce)
        txn Sender                                                                                    asset#0,nonce#0,unitary_price#0,tmp%0#1
        l-load asset#0 3                                                                              nonce#0,unitary_price#0,tmp%0#1,asset#0
        itob                                                                                          nonce#0,unitary_price#0,tmp%0#1,aggregate%val_as_bytes%0#0
        l-load tmp%0#1 1                                                                              nonce#0,unitary_price#0,aggregate%val_as_bytes%0#0,tmp%0#1
        l-load aggregate%val_as_bytes%0#0 1                                                           nonce#0,unitary_price#0,tmp%0#1,aggregate%val_as_bytes%0#0
        concat                                                                                        nonce#0,unitary_price#0,aggregate%head%1#0
        l-load nonce#0 2                                                                              unitary_price#0,aggregate%head%1#0,nonce#0
        itob                                                                                          unitary_price#0,aggregate%head%1#0,aggregate%val_as_bytes%1#0
        l-load aggregate%head%1#0 1                                                                   unitary_price#0,aggregate%val_as_bytes%1#0,aggregate%head%1#0
        l-load aggregate%val_as_bytes%1#0 1                                                           unitary_price#0,aggregate%head%1#0,aggregate%val_as_bytes%1#0
        concat                                                                                        unitary_price#0,key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:141
        // existing = self.listings[key]
        byte 0x6c697374696e6773                                                                       unitary_price#0,key#0,0x6c697374696e6773
        l-load key#0 1                                                                                unitary_price#0,0x6c697374696e6773,key#0
        concat                                                                                        unitary_price#0,box_prefixed_key%0#0
        l-load-copy box_prefixed_key%0#0 0                                                            unitary_price#0,box_prefixed_key%0#0,box_prefixed_key%0#0 (copy)
        box_get                                                                                       unitary_price#0,box_prefixed_key%0#0,existing#0,aggregate%box_get%1#0
        assert // check self.listings entry exists                                                    unitary_price#0,box_prefixed_key%0#0,existing#0
        // marketplace_demo/marketplace_with_immutable_struct.py:143
        // bid=existing.bid,
        l-load-copy existing#0 0                                                                      unitary_price#0,box_prefixed_key%0#0,existing#0,existing#0 (copy)
        extract 48 8                                                                                  unitary_price#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0
        // marketplace_demo/marketplace_with_immutable_struct.py:144
        // bidUnitaryPrice=existing.bidUnitaryPrice,
        l-load-copy existing#0 1                                                                      unitary_price#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,existing#0 (copy)
        extract 56 8                                                                                  unitary_price#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,aggregate%extract%1#0
        // marketplace_demo/marketplace_with_immutable_struct.py:145
        // bidder=existing.bidder,
        l-load-copy existing#0 2                                                                      unitary_price#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,aggregate%extract%1#0,existing#0 (copy)
        extract 16 32                                                                                 unitary_price#0,box_prefixed_key%0#0,existing#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0
        // marketplace_demo/marketplace_with_immutable_struct.py:146
        // deposited=existing.deposited,
        l-load existing#0 3                                                                           unitary_price#0,box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,existing#0
        extract 0 8                                                                                   unitary_price#0,box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0
        // marketplace_demo/marketplace_with_immutable_struct.py:142-148
        // self.listings[key] = ListingValue(
        //     bid=existing.bid,
        //     bidUnitaryPrice=existing.bidUnitaryPrice,
        //     bidder=existing.bidder,
        //     deposited=existing.deposited,
        //     unitaryPrice=unitary_price,
        // )
        l-load unitary_price#0 5                                                                      box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,unitary_price#0
        itob                                                                                          box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%val_as_bytes%3#0
        l-load aggregate%extract%3#0 1                                                                box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%val_as_bytes%3#0,aggregate%extract%3#0
        l-load aggregate%val_as_bytes%3#0 1                                                           box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%val_as_bytes%3#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%head%4#0
        l-load aggregate%extract%2#0 1                                                                box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%head%4#0,aggregate%extract%2#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%extract%0#0,aggregate%extract%1#0,aggregate%head%5#0
        l-load aggregate%extract%0#0 2                                                                box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%head%5#0,aggregate%extract%0#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%head%6#0
        l-load aggregate%extract%1#0 1                                                                box_prefixed_key%0#0,aggregate%head%6#0,aggregate%extract%1#0
        concat                                                                                        box_prefixed_key%0#0,aggregate%head%7#0
        l-load box_prefixed_key%0#0 1                                                                 aggregate%head%7#0,box_prefixed_key%0#0
        l-load aggregate%head%7#0 1                                                                   box_prefixed_key%0#0,aggregate%head%7#0
        box_put
        // marketplace_demo/marketplace_with_immutable_struct.py:137
        // @arc4.abimethod(name="setPrice")
        int 1                                                                                         1
        return


// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.buy[routing]() -> void:
subroutine buy:
    buy_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:150
        // @arc4.abimethod
        txna ApplicationArgs 1                                                                        owner#0
        txna ApplicationArgs 2                                                                        owner#0,reinterpret_Encoded(uint64)%0#0
        btoi                                                                                          owner#0,asset#0
        txna ApplicationArgs 3                                                                        owner#0,asset#0,reinterpret_Encoded(uint64)%1#0
        btoi                                                                                          owner#0,asset#0,nonce#0
        txn GroupIndex                                                                                owner#0,asset#0,nonce#0,tmp%3#0
        int 1                                                                                         owner#0,asset#0,nonce#0,tmp%3#0,1
        -                                                                                             owner#0,asset#0,nonce#0,buy_pay#0
        l-load-copy buy_pay#0 0                                                                       owner#0,asset#0,nonce#0,buy_pay#0,buy_pay#0 (copy)
        gtxns TypeEnum                                                                                owner#0,asset#0,nonce#0,buy_pay#0,gtxn_type%0#0
        int pay                                                                                       owner#0,asset#0,nonce#0,buy_pay#0,gtxn_type%0#0,pay
        ==                                                                                            owner#0,asset#0,nonce#0,buy_pay#0,gtxn_type_matches%0#0
        assert // transaction type is pay                                                             owner#0,asset#0,nonce#0,buy_pay#0
        txna ApplicationArgs 4                                                                        owner#0,asset#0,nonce#0,buy_pay#0,reinterpret_Encoded(uint64)%2#0
        btoi                                                                                          owner#0,asset#0,nonce#0,buy_pay#0,quantity#0
        // marketplace_demo/marketplace_with_immutable_struct.py:159
        // key = ListingKey(owner=owner, asset=asset.id, nonce=nonce)
        l-load-copy asset#0 3                                                                         owner#0,asset#0,nonce#0,buy_pay#0,quantity#0,asset#0 (copy)
        itob                                                                                          owner#0,asset#0,nonce#0,buy_pay#0,quantity#0,aggregate%val_as_bytes%0#0
        l-load-copy owner#0 5                                                                         owner#0,asset#0,nonce#0,buy_pay#0,quantity#0,aggregate%val_as_bytes%0#0,owner#0 (copy)
        l-load aggregate%val_as_bytes%0#0 1                                                           owner#0,asset#0,nonce#0,buy_pay#0,quantity#0,owner#0 (copy),aggregate%val_as_bytes%0#0
        concat                                                                                        owner#0,asset#0,nonce#0,buy_pay#0,quantity#0,aggregate%head%1#0
        l-load nonce#0 3                                                                              owner#0,asset#0,buy_pay#0,quantity#0,aggregate%head%1#0,nonce#0
        itob                                                                                          owner#0,asset#0,buy_pay#0,quantity#0,aggregate%head%1#0,aggregate%val_as_bytes%1#0
        l-load aggregate%head%1#0 1                                                                   owner#0,asset#0,buy_pay#0,quantity#0,aggregate%val_as_bytes%1#0,aggregate%head%1#0
        l-load aggregate%val_as_bytes%1#0 1                                                           owner#0,asset#0,buy_pay#0,quantity#0,aggregate%head%1#0,aggregate%val_as_bytes%1#0
        concat                                                                                        owner#0,asset#0,buy_pay#0,quantity#0,key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:161
        // listing = self.listings[key]
        byte 0x6c697374696e6773                                                                       owner#0,asset#0,buy_pay#0,quantity#0,key#0,0x6c697374696e6773
        l-load key#0 1                                                                                owner#0,asset#0,buy_pay#0,quantity#0,0x6c697374696e6773,key#0
        concat                                                                                        owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0
        l-load-copy box_prefixed_key%0#0 0                                                            owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,box_prefixed_key%0#0 (copy)
        box_get                                                                                       owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,aggregate%box_get%1#0
        assert // check self.listings entry exists                                                    owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0
        // marketplace_demo/marketplace_with_immutable_struct.py:163
        // amount_to_be_paid = self.quantity_price(quantity, listing.unitaryPrice, asset.decimals)
        l-load-copy listing#0 0                                                                       owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,listing#0 (copy)
        int 8                                                                                         owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,listing#0 (copy),8
        extract_uint64                                                                                owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0
        l-load-copy asset#0 5                                                                         owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,asset#0 (copy)
        asset_params_get AssetDecimals                                                                owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,asset_decimals#0,check%0#0
        assert // asset exists                                                                        owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,asset_decimals#0
        // marketplace_demo/marketplace_with_immutable_struct.py:69
        // amount_not_scaled_high, amount_not_scaled_low = op.mulw(price, quantity)
        l-load-copy price#0 1                                                                         owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,asset_decimals#0,price#0 (copy)
        l-load-copy quantity#0 5                                                                      owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,asset_decimals#0,price#0 (copy),quantity#0 (copy)
        mulw                                                                                          owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:70
        // scaling_factor_high, scaling_factor_low = op.expw(10, asset_decimals)
        int 10                                                                                        owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0,10
        l-load asset_decimals#0 3                                                                     owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_not_scaled_high#0,amount_not_scaled_low#0,10,asset_decimals#0
        expw                                                                                          owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:71-73
        // _quotient_high, amount_to_be_paid, _remainder_high, _remainder_low = op.divmodw(
        //     amount_not_scaled_high, amount_not_scaled_low, scaling_factor_high, scaling_factor_low
        // )
        l-load amount_not_scaled_high#0 3                                                             owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0
        l-load amount_not_scaled_low#0 3                                                              owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        l-load scaling_factor_high#0 3                                                                owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0
        l-load scaling_factor_low#0 3                                                                 owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        divmodw                                                                                       owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,_quotient_high#0,amount_to_be_paid#1,_remainder_high#0,_remainder_low#0
        pop 1                                                                                         owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,_quotient_high#0,amount_to_be_paid#1,_remainder_high#0
        pop 1                                                                                         owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,_quotient_high#0,amount_to_be_paid#1
        l-store amount_to_be_paid#1 1                                                                 owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,_quotient_high#0
        l-store _quotient_high#0 0                                                                    owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,_quotient_high#0
        // marketplace_demo/marketplace_with_immutable_struct.py:74
        // assert _quotient_high == 0
        l-load _quotient_high#0 0                                                                     owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,_quotient_high#0
        !                                                                                             owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%8#0
        assert                                                                                        owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1
        // marketplace_demo/marketplace_with_immutable_struct.py:165
        // assert buy_pay.sender == Txn.sender
        l-load-copy buy_pay#0 5                                                                       owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,buy_pay#0 (copy)
        gtxns Sender                                                                                  owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%2#1
        txn Sender                                                                                    owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%2#1,tmp%3#1
        l-load tmp%2#1 1                                                                              owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%3#1,tmp%2#1
        l-load tmp%3#1 1                                                                              owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%2#1,tmp%3#1
        ==                                                                                            owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%4#1
        assert                                                                                        owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1
        // marketplace_demo/marketplace_with_immutable_struct.py:166
        // assert buy_pay.receiver == owner
        l-load-copy buy_pay#0 5                                                                       owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,buy_pay#0 (copy)
        gtxns Receiver                                                                                owner#0,asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%5#0
        l-load owner#0 8                                                                              asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%5#0,owner#0
        ==                                                                                            asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%6#0
        assert                                                                                        asset#0,buy_pay#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1
        // marketplace_demo/marketplace_with_immutable_struct.py:167
        // assert buy_pay.amount == amount_to_be_paid
        l-load buy_pay#0 5                                                                            asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,buy_pay#0
        gtxns Amount                                                                                  asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,amount_to_be_paid#1,tmp%7#0
        l-load amount_to_be_paid#1 1                                                                  asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,tmp%7#0,amount_to_be_paid#1
        ==                                                                                            asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,tmp%8#0
        assert                                                                                        asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0
        // marketplace_demo/marketplace_with_immutable_struct.py:170
        // bid=listing.bid,
        l-load-copy listing#0 1                                                                       asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,listing#0 (copy)
        extract 48 8                                                                                  asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,aggregate%extract%1#0
        // marketplace_demo/marketplace_with_immutable_struct.py:171
        // bidUnitaryPrice=listing.bidUnitaryPrice,
        l-load-copy listing#0 2                                                                       asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,aggregate%extract%1#0,listing#0 (copy)
        extract 56 8                                                                                  asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0
        // marketplace_demo/marketplace_with_immutable_struct.py:172
        // bidder=listing.bidder,
        l-load-copy listing#0 3                                                                       asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0,listing#0 (copy)
        extract 16 32                                                                                 asset#0,quantity#0,box_prefixed_key%0#0,listing#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0
        // marketplace_demo/marketplace_with_immutable_struct.py:174
        // deposited=listing.deposited - quantity,
        l-load listing#0 4                                                                            asset#0,quantity#0,box_prefixed_key%0#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,listing#0
        int 0                                                                                         asset#0,quantity#0,box_prefixed_key%0#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,listing#0,0
        extract_uint64                                                                                asset#0,quantity#0,box_prefixed_key%0#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,values%5#0
        l-load-copy quantity#0 6                                                                      asset#0,quantity#0,box_prefixed_key%0#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,values%5#0,quantity#0 (copy)
        -                                                                                             asset#0,quantity#0,box_prefixed_key%0#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,tmp%9#0
        // marketplace_demo/marketplace_with_immutable_struct.py:169-175
        // self.listings[key] = ListingValue(
        //     bid=listing.bid,
        //     bidUnitaryPrice=listing.bidUnitaryPrice,
        //     bidder=listing.bidder,
        //     unitaryPrice=listing.unitaryPrice,
        //     deposited=listing.deposited - quantity,
        // )
        itob                                                                                          asset#0,quantity#0,box_prefixed_key%0#0,price#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%val_as_bytes%2#0
        l-load price#0 4                                                                              asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%val_as_bytes%2#0,price#0
        itob                                                                                          asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%val_as_bytes%2#0,aggregate%val_as_bytes%3#0
        l-load aggregate%val_as_bytes%2#0 1                                                           asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%val_as_bytes%3#0,aggregate%val_as_bytes%2#0
        l-load aggregate%val_as_bytes%3#0 1                                                           asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%val_as_bytes%2#0,aggregate%val_as_bytes%3#0
        concat                                                                                        asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%extract%3#0,aggregate%head%4#0
        l-load aggregate%extract%3#0 1                                                                asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%head%4#0,aggregate%extract%3#0
        concat                                                                                        asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%1#0,aggregate%extract%2#0,aggregate%head%5#0
        l-load aggregate%extract%1#0 2                                                                asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%2#0,aggregate%head%5#0,aggregate%extract%1#0
        concat                                                                                        asset#0,quantity#0,box_prefixed_key%0#0,aggregate%extract%2#0,aggregate%head%6#0
        l-load aggregate%extract%2#0 1                                                                asset#0,quantity#0,box_prefixed_key%0#0,aggregate%head%6#0,aggregate%extract%2#0
        concat                                                                                        asset#0,quantity#0,box_prefixed_key%0#0,aggregate%head%7#0
        l-load box_prefixed_key%0#0 1                                                                 asset#0,quantity#0,aggregate%head%7#0,box_prefixed_key%0#0
        l-load aggregate%head%7#0 1                                                                   asset#0,quantity#0,box_prefixed_key%0#0,aggregate%head%7#0
        box_put                                                                                       asset#0,quantity#0
        // marketplace_demo/marketplace_with_immutable_struct.py:177-179
        // itxn.AssetTransfer(
        //     xfer_asset=asset, asset_receiver=Txn.sender, asset_amount=quantity
        // ).submit()
        itxn_begin                                                                                    asset#0,quantity#0
        // marketplace_demo/marketplace_with_immutable_struct.py:178
        // xfer_asset=asset, asset_receiver=Txn.sender, asset_amount=quantity
        txn Sender                                                                                    asset#0,quantity#0,inner_txn_params%0%%param_AssetReceiver_idx_0#0
        l-load quantity#0 1                                                                           asset#0,inner_txn_params%0%%param_AssetReceiver_idx_0#0,quantity#0
        itxn_field AssetAmount                                                                        asset#0,inner_txn_params%0%%param_AssetReceiver_idx_0#0
        l-load inner_txn_params%0%%param_AssetReceiver_idx_0#0 0                                      asset#0,inner_txn_params%0%%param_AssetReceiver_idx_0#0
        itxn_field AssetReceiver                                                                      asset#0
        l-load asset#0 0                                                                              asset#0
        itxn_field XferAsset
        // marketplace_demo/marketplace_with_immutable_struct.py:177
        // itxn.AssetTransfer(
        int axfer                                                                                     axfer
        itxn_field TypeEnum
        int 0                                                                                         0
        itxn_field Fee
        // marketplace_demo/marketplace_with_immutable_struct.py:177-179
        // itxn.AssetTransfer(
        //     xfer_asset=asset, asset_receiver=Txn.sender, asset_amount=quantity
        // ).submit()
        itxn_submit
        // marketplace_demo/marketplace_with_immutable_struct.py:150
        // @arc4.abimethod
        int 1                                                                                         1
        return


// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.withdraw[routing]() -> void:
subroutine withdraw:
    withdraw_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:181
        // @arc4.abimethod
        txna ApplicationArgs 1                                                                        reinterpret_Encoded(uint64)%0#0
        btoi                                                                                          asset#0
        l-store-copy asset#0 0                                                                        asset#0,asset#0
        f-store asset#0                                                                               (𝕗) asset#0 | asset#0
        txna ApplicationArgs 2                                                                        (𝕗) asset#0 | asset#0,reinterpret_Encoded(uint64)%1#0
        btoi                                                                                          (𝕗) asset#0 | asset#0,nonce#0
        // marketplace_demo/marketplace_with_immutable_struct.py:183
        // key = ListingKey(owner=Txn.sender, asset=asset.id, nonce=nonce)
        txn Sender                                                                                    (𝕗) asset#0 | asset#0,nonce#0,tmp%0#1
        l-load asset#0 2                                                                              (𝕗) asset#0 | nonce#0,tmp%0#1,asset#0
        itob                                                                                          (𝕗) asset#0 | nonce#0,tmp%0#1,aggregate%val_as_bytes%0#0
        l-load tmp%0#1 1                                                                              (𝕗) asset#0 | nonce#0,aggregate%val_as_bytes%0#0,tmp%0#1
        l-load aggregate%val_as_bytes%0#0 1                                                           (𝕗) asset#0 | nonce#0,tmp%0#1,aggregate%val_as_bytes%0#0
        concat                                                                                        (𝕗) asset#0 | nonce#0,aggregate%head%1#0
        l-load nonce#0 1                                                                              (𝕗) asset#0 | aggregate%head%1#0,nonce#0
        itob                                                                                          (𝕗) asset#0 | aggregate%head%1#0,aggregate%val_as_bytes%1#0
        l-load aggregate%head%1#0 1                                                                   (𝕗) asset#0 | aggregate%val_as_bytes%1#0,aggregate%head%1#0
        l-load aggregate%val_as_bytes%1#0 1                                                           (𝕗) asset#0 | aggregate%head%1#0,aggregate%val_as_bytes%1#0
        concat                                                                                        (𝕗) asset#0 | key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:185
        // listing = self.listings[key]
        byte 0x6c697374696e6773                                                                       (𝕗) asset#0 | key#0,0x6c697374696e6773
        l-load key#0 1                                                                                (𝕗) asset#0 | 0x6c697374696e6773,key#0
        concat                                                                                        (𝕗) asset#0 | box_prefixed_key%0#0
        l-store-copy box_prefixed_key%0#0 0                                                           (𝕗) asset#0 | box_prefixed_key%0#0,box_prefixed_key%0#0
        f-store box_prefixed_key%0#0                                                                  (𝕗) asset#0,box_prefixed_key%0#0 | box_prefixed_key%0#0
        l-load box_prefixed_key%0#0 0                                                                 (𝕗) asset#0,box_prefixed_key%0#0 | box_prefixed_key%0#0
        box_get                                                                                       (𝕗) asset#0,box_prefixed_key%0#0 | listing#0,aggregate%box_get%1#0
        l-store aggregate%box_get%1#0 1                                                               (𝕗) asset#0,box_prefixed_key%0#0 | aggregate%box_get%1#0,listing#0
        l-store-copy listing#0 1                                                                      (𝕗) asset#0,box_prefixed_key%0#0 | listing#0,aggregate%box_get%1#0,listing#0
        f-store listing#0                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0,aggregate%box_get%1#0
        l-load aggregate%box_get%1#0 0                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0,aggregate%box_get%1#0
        assert // check self.listings entry exists                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0
        // marketplace_demo/marketplace_with_immutable_struct.py:186
        // if listing.bidder != Account():
        l-load listing#0 0                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0
        extract 16 32                                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | aggregate%extract%0#0
        l-store-copy aggregate%extract%0#0 0                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | aggregate%extract%0#0,aggregate%extract%0#0
        f-store aggregate%extract%0#0                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%extract%0#0
        global ZeroAddress                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%extract%0#0,tmp%2#0
        l-load aggregate%extract%0#0 1                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | tmp%2#0,aggregate%extract%0#0
        l-load tmp%2#0 1                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%extract%0#0,tmp%2#0
        !=                                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | tmp%3#0
        bz withdraw_after_if_else@4 ; b withdraw_if_body@2                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |

    withdraw_if_body@2:                                                                               (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:188
        // listing.bid, listing.bidUnitaryPrice, asset.decimals
        f-load listing#0                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0
        l-store-copy listing#0 0                                                                      (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,listing#0 (copy)
        int 48                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,listing#0 (copy),48
        extract_uint64                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,quantity#0
        l-load listing#0 1                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | quantity#0,listing#0
        int 56                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | quantity#0,listing#0,56
        extract_uint64                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | quantity#0,price#0
        f-load asset#0                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | quantity#0,price#0,asset#0
        asset_params_get AssetDecimals                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | quantity#0,price#0,asset_decimals#0,check%0#0
        assert // asset exists                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | quantity#0,price#0,asset_decimals#0
        // marketplace_demo/marketplace_with_immutable_struct.py:69
        // amount_not_scaled_high, amount_not_scaled_low = op.mulw(price, quantity)
        l-load price#0 1                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | quantity#0,asset_decimals#0,price#0
        l-load quantity#0 2                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0,price#0,quantity#0
        mulw                                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:70
        // scaling_factor_high, scaling_factor_low = op.expw(10, asset_decimals)
        int 10                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0,10
        l-load asset_decimals#0 3                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_not_scaled_high#0,amount_not_scaled_low#0,10,asset_decimals#0
        expw                                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:71-73
        // _quotient_high, amount_to_be_paid, _remainder_high, _remainder_low = op.divmodw(
        //     amount_not_scaled_high, amount_not_scaled_low, scaling_factor_high, scaling_factor_low
        // )
        l-load amount_not_scaled_high#0 3                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0
        l-load amount_not_scaled_low#0 3                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        l-load scaling_factor_high#0 3                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0
        l-load scaling_factor_low#0 3                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        divmodw                                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | _quotient_high#0,amount_to_be_paid#0,_remainder_high#0,_remainder_low#0
        pop 1                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | _quotient_high#0,amount_to_be_paid#0,_remainder_high#0
        pop 1                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | _quotient_high#0,amount_to_be_paid#0
        l-store amount_to_be_paid#0 1                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0,_quotient_high#0
        l-store _quotient_high#0 0                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0,_quotient_high#0
        // marketplace_demo/marketplace_with_immutable_struct.py:74
        // assert _quotient_high == 0
        l-load _quotient_high#0 0                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0,_quotient_high#0
        !                                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0,tmp%8#0
        assert                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0
        // marketplace_demo/marketplace_with_immutable_struct.py:190
        // itxn.Payment(receiver=listing.bidder, amount=current_bid_deposit).submit()
        itxn_begin                                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0
        l-load amount_to_be_paid#0 0                                                                  (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0
        itxn_field Amount                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        f-load aggregate%extract%0#0                                                                  (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%extract%0#0
        itxn_field Receiver                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        int pay                                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | pay
        itxn_field TypeEnum                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        int 0                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | 0
        itxn_field Fee                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        itxn_submit                                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        b withdraw_after_if_else@4                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |

    withdraw_after_if_else@4:                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:192
        // del self.listings[key]
        f-load box_prefixed_key%0#0                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | box_prefixed_key%0#0
        box_del                                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | {box_del}
        pop 1                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:194
        // itxn.Payment(receiver=Txn.sender, amount=self.listings_box_mbr()).submit()
        itxn_begin                                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        txn Sender                                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%1%%param_Receiver_idx_0#0
        // marketplace_demo/marketplace_with_immutable_struct.py:44-65
        // return UInt64(
        //     2_500
        //     +
        //     # fmt: off
        //     # Key length
        //     (
        //         8
        //         + 32
        //         + 8
        //         + 8
        //         +
        //         # Value length
        //         8
        //         + 8
        //         + 32
        //         + 8
        //         + 8
        //     )
        //     *
        //     # fmt: on
        //     400
        // )
        int 50500                                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%1%%param_Receiver_idx_0#0,50500
        itxn_field Amount                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%1%%param_Receiver_idx_0#0
        l-load inner_txn_params%1%%param_Receiver_idx_0#0 0                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%1%%param_Receiver_idx_0#0
        itxn_field Receiver                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:194
        // itxn.Payment(receiver=Txn.sender, amount=self.listings_box_mbr()).submit()
        int pay                                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | pay
        itxn_field TypeEnum                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        int 0                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | 0
        itxn_field Fee                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        itxn_submit                                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:196-198
        // itxn.AssetTransfer(
        //     xfer_asset=asset, asset_receiver=Txn.sender, asset_amount=listing.deposited
        // ).submit()
        itxn_begin                                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:197
        // xfer_asset=asset, asset_receiver=Txn.sender, asset_amount=listing.deposited
        txn Sender                                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%2%%param_AssetReceiver_idx_0#0
        f-load listing#0                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%2%%param_AssetReceiver_idx_0#0,listing#0
        int 0                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%2%%param_AssetReceiver_idx_0#0,listing#0,0
        extract_uint64                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%2%%param_AssetReceiver_idx_0#0,values%4#0
        itxn_field AssetAmount                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%2%%param_AssetReceiver_idx_0#0
        l-load inner_txn_params%2%%param_AssetReceiver_idx_0#0 0                                      (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | inner_txn_params%2%%param_AssetReceiver_idx_0#0
        itxn_field AssetReceiver                                                                      (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        f-load asset#0                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset#0
        itxn_field XferAsset                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:196
        // itxn.AssetTransfer(
        int axfer                                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | axfer
        itxn_field TypeEnum                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        int 0                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | 0
        itxn_field Fee                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:196-198
        // itxn.AssetTransfer(
        //     xfer_asset=asset, asset_receiver=Txn.sender, asset_amount=listing.deposited
        // ).submit()
        itxn_submit                                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:181
        // @arc4.abimethod
        int 1                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | 1
        return                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |


// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.bid[routing]() -> void:
subroutine bid:
    bid_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:200
        // @arc4.abimethod
        txna ApplicationArgs 1                                                                        owner#0
        txna ApplicationArgs 2                                                                        owner#0,reinterpret_Encoded(uint64)%0#0
        btoi                                                                                          owner#0,asset#0
        l-store-copy asset#0 0                                                                        owner#0,asset#0,asset#0
        f-store asset#0                                                                               (𝕗) asset#0 | owner#0,asset#0
        txna ApplicationArgs 3                                                                        (𝕗) asset#0 | owner#0,asset#0,reinterpret_Encoded(uint64)%1#0
        btoi                                                                                          (𝕗) asset#0 | owner#0,asset#0,nonce#0
        txn GroupIndex                                                                                (𝕗) asset#0 | owner#0,asset#0,nonce#0,tmp%3#0
        int 1                                                                                         (𝕗) asset#0 | owner#0,asset#0,nonce#0,tmp%3#0,1
        -                                                                                             (𝕗) asset#0 | owner#0,asset#0,nonce#0,bid_pay#0
        l-store-copy bid_pay#0 0                                                                      (𝕗) asset#0 | owner#0,asset#0,nonce#0,bid_pay#0,bid_pay#0
        f-store bid_pay#0                                                                             (𝕗) asset#0,bid_pay#0 | owner#0,asset#0,nonce#0,bid_pay#0
        l-load bid_pay#0 0                                                                            (𝕗) asset#0,bid_pay#0 | owner#0,asset#0,nonce#0,bid_pay#0
        gtxns TypeEnum                                                                                (𝕗) asset#0,bid_pay#0 | owner#0,asset#0,nonce#0,gtxn_type%0#0
        int pay                                                                                       (𝕗) asset#0,bid_pay#0 | owner#0,asset#0,nonce#0,gtxn_type%0#0,pay
        ==                                                                                            (𝕗) asset#0,bid_pay#0 | owner#0,asset#0,nonce#0,gtxn_type_matches%0#0
        assert // transaction type is pay                                                             (𝕗) asset#0,bid_pay#0 | owner#0,asset#0,nonce#0
        txna ApplicationArgs 4                                                                        (𝕗) asset#0,bid_pay#0 | owner#0,asset#0,nonce#0,reinterpret_Encoded(uint64)%2#0
        btoi                                                                                          (𝕗) asset#0,bid_pay#0 | owner#0,asset#0,nonce#0,quantity#0
        f-store quantity#0                                                                            (𝕗) asset#0,bid_pay#0,quantity#0 | owner#0,asset#0,nonce#0
        txna ApplicationArgs 5                                                                        (𝕗) asset#0,bid_pay#0,quantity#0 | owner#0,asset#0,nonce#0,reinterpret_Encoded(uint64)%3#0
        btoi                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0 | owner#0,asset#0,nonce#0,unitary_price#0
        f-store unitary_price#0                                                                       (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | owner#0,asset#0,nonce#0
        // marketplace_demo/marketplace_with_immutable_struct.py:210
        // key = ListingKey(owner=owner, asset=asset.id, nonce=nonce)
        l-load asset#0 1                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | owner#0,nonce#0,asset#0
        itob                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | owner#0,nonce#0,aggregate%val_as_bytes%0#0
        l-load owner#0 2                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | nonce#0,aggregate%val_as_bytes%0#0,owner#0
        l-load aggregate%val_as_bytes%0#0 1                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | nonce#0,owner#0,aggregate%val_as_bytes%0#0
        concat                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | nonce#0,aggregate%head%1#0
        l-load nonce#0 1                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | aggregate%head%1#0,nonce#0
        itob                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | aggregate%head%1#0,aggregate%val_as_bytes%1#0
        l-load aggregate%head%1#0 1                                                                   (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | aggregate%val_as_bytes%1#0,aggregate%head%1#0
        l-load aggregate%val_as_bytes%1#0 1                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | aggregate%head%1#0,aggregate%val_as_bytes%1#0
        concat                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:212
        // listing = self.listings[key]
        byte 0x6c697374696e6773                                                                       (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | key#0,0x6c697374696e6773
        l-load key#0 1                                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | 0x6c697374696e6773,key#0
        concat                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | box_prefixed_key%0#0
        l-store-copy box_prefixed_key%0#0 0                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0 | box_prefixed_key%0#0,box_prefixed_key%0#0
        f-store box_prefixed_key%0#0                                                                  (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0 | box_prefixed_key%0#0
        l-load box_prefixed_key%0#0 0                                                                 (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0 | box_prefixed_key%0#0
        box_get                                                                                       (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0 | listing#0,aggregate%box_get%1#0
        l-store aggregate%box_get%1#0 1                                                               (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0 | aggregate%box_get%1#0,listing#0
        l-store-copy listing#0 1                                                                      (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0 | listing#0,aggregate%box_get%1#0,listing#0
        f-store listing#0                                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0 | listing#0,aggregate%box_get%1#0
        l-load aggregate%box_get%1#0 0                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0 | listing#0,aggregate%box_get%1#0
        assert // check self.listings entry exists                                                    (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0 | listing#0
        // marketplace_demo/marketplace_with_immutable_struct.py:213
        // if listing.bidder != Account():
        l-load listing#0 0                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0 | listing#0
        extract 16 32                                                                                 (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0 | aggregate%extract%0#0
        l-store-copy aggregate%extract%0#0 0                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0 | aggregate%extract%0#0,aggregate%extract%0#0
        f-store aggregate%extract%0#0                                                                 (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%extract%0#0
        global ZeroAddress                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%extract%0#0,tmp%1#1
        l-load aggregate%extract%0#0 1                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | tmp%1#1,aggregate%extract%0#0
        l-load tmp%1#1 1                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%extract%0#0,tmp%1#1
        !=                                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | tmp%2#1
        bz bid_after_if_else@4 ; b bid_if_body@2                                                      (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |

    bid_if_body@2:                                                                                    (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:214
        // assert unitary_price > listing.bidUnitaryPrice
        f-load listing#0                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0
        l-store-copy listing#0 0                                                                      (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,listing#0 (copy)
        int 56                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,listing#0 (copy),56
        extract_uint64                                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,price#1
        f-load unitary_price#0                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,price#1,unitary_price#0
        l-load-copy price#1 1                                                                         (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,price#1,unitary_price#0,price#1 (copy)
        >                                                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,price#1,tmp%3#1
        assert                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,price#1
        // marketplace_demo/marketplace_with_immutable_struct.py:217
        // listing.bid, listing.bidUnitaryPrice, asset.decimals
        l-load listing#0 1                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | price#1,listing#0
        int 48                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | price#1,listing#0,48
        extract_uint64                                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | price#1,quantity#2
        f-load asset#0                                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | price#1,quantity#2,asset#0
        asset_params_get AssetDecimals                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | price#1,quantity#2,asset_decimals#0,check%0#0
        assert // asset exists                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | price#1,quantity#2,asset_decimals#0
        // marketplace_demo/marketplace_with_immutable_struct.py:69
        // amount_not_scaled_high, amount_not_scaled_low = op.mulw(price, quantity)
        l-load price#1 2                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | quantity#2,asset_decimals#0,price#1
        l-load quantity#2 2                                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0,price#1,quantity#2
        mulw                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:70
        // scaling_factor_high, scaling_factor_low = op.expw(10, asset_decimals)
        int 10                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0,10
        l-load asset_decimals#0 3                                                                     (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_not_scaled_high#0,amount_not_scaled_low#0,10,asset_decimals#0
        expw                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:71-73
        // _quotient_high, amount_to_be_paid, _remainder_high, _remainder_low = op.divmodw(
        //     amount_not_scaled_high, amount_not_scaled_low, scaling_factor_high, scaling_factor_low
        // )
        l-load amount_not_scaled_high#0 3                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0
        l-load amount_not_scaled_low#0 3                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        l-load scaling_factor_high#0 3                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0
        l-load scaling_factor_low#0 3                                                                 (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        divmodw                                                                                       (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | _quotient_high#0,amount_to_be_paid#0,_remainder_high#0,_remainder_low#0
        pop 1                                                                                         (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | _quotient_high#0,amount_to_be_paid#0,_remainder_high#0
        pop 1                                                                                         (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | _quotient_high#0,amount_to_be_paid#0
        l-store amount_to_be_paid#0 1                                                                 (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0,_quotient_high#0
        l-store _quotient_high#0 0                                                                    (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0,_quotient_high#0
        // marketplace_demo/marketplace_with_immutable_struct.py:74
        // assert _quotient_high == 0
        l-load _quotient_high#0 0                                                                     (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0,_quotient_high#0
        !                                                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0,tmp%8#0
        assert                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0
        // marketplace_demo/marketplace_with_immutable_struct.py:220
        // itxn.Payment(receiver=listing.bidder, amount=current_bid_amount).submit()
        itxn_begin                                                                                    (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0
        l-load amount_to_be_paid#0 0                                                                  (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | amount_to_be_paid#0
        itxn_field Amount                                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        f-load aggregate%extract%0#0                                                                  (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%extract%0#0
        itxn_field Receiver                                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        int pay                                                                                       (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | pay
        itxn_field TypeEnum                                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        int 0                                                                                         (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | 0
        itxn_field Fee                                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        itxn_submit                                                                                   (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        b bid_after_if_else@4                                                                         (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |

    bid_after_if_else@4:                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:222
        // amount_to_be_bid = self.quantity_price(quantity, unitary_price, asset.decimals)
        f-load asset#0                                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset#0
        asset_params_get AssetDecimals                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0,check%1#0
        assert // asset exists                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0
        // marketplace_demo/marketplace_with_immutable_struct.py:69
        // amount_not_scaled_high, amount_not_scaled_low = op.mulw(price, quantity)
        f-load unitary_price#0                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | asset_decimals#0,unitary_price#0
        l-store-copy unitary_price#0 1                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,asset_decimals#0,unitary_price#0 (copy)
        f-load quantity#0                                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,asset_decimals#0,unitary_price#0 (copy),quantity#0
        l-store-copy quantity#0 2                                                                     (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,asset_decimals#0,unitary_price#0 (copy),quantity#0 (copy)
        mulw                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:70
        // scaling_factor_high, scaling_factor_low = op.expw(10, asset_decimals)
        int 10                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0,10
        l-load asset_decimals#0 3                                                                     (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_not_scaled_high#0,amount_not_scaled_low#0,10,asset_decimals#0
        expw                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:71-73
        // _quotient_high, amount_to_be_paid, _remainder_high, _remainder_low = op.divmodw(
        //     amount_not_scaled_high, amount_not_scaled_low, scaling_factor_high, scaling_factor_low
        // )
        l-load amount_not_scaled_high#0 3                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0
        l-load amount_not_scaled_low#0 3                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        l-load scaling_factor_high#0 3                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0
        l-load scaling_factor_low#0 3                                                                 (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        divmodw                                                                                       (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,_quotient_high#0,amount_to_be_paid#0,_remainder_high#0,_remainder_low#0
        pop 1                                                                                         (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,_quotient_high#0,amount_to_be_paid#0,_remainder_high#0
        pop 1                                                                                         (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,_quotient_high#0,amount_to_be_paid#0
        l-store amount_to_be_paid#0 1                                                                 (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,_quotient_high#0
        l-store _quotient_high#0 0                                                                    (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,_quotient_high#0
        // marketplace_demo/marketplace_with_immutable_struct.py:74
        // assert _quotient_high == 0
        l-load _quotient_high#0 0                                                                     (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,_quotient_high#0
        !                                                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,tmp%8#0
        assert                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0
        // marketplace_demo/marketplace_with_immutable_struct.py:224
        // assert bid_pay.sender == Txn.sender
        f-load bid_pay#0                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0
        l-store-copy bid_pay#0 0                                                                      (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,bid_pay#0 (copy)
        gtxns Sender                                                                                  (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%6#0
        txn Sender                                                                                    (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%6#0,tmp%7#0
        l-load tmp%6#0 1                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%7#0,tmp%6#0
        l-load tmp%7#0 1                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%6#0,tmp%7#0
        ==                                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%8#0
        assert                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0
        // marketplace_demo/marketplace_with_immutable_struct.py:225
        // assert bid_pay.receiver == Global.current_application_address
        l-load-copy bid_pay#0 0                                                                       (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,bid_pay#0 (copy)
        gtxns Receiver                                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%9#0
        global CurrentApplicationAddress                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%9#0,tmp%10#0
        l-load tmp%9#0 1                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%10#0,tmp%9#0
        l-load tmp%10#0 1                                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%9#0,tmp%10#0
        ==                                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0,tmp%11#0
        assert                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0
        // marketplace_demo/marketplace_with_immutable_struct.py:226
        // assert bid_pay.amount == amount_to_be_bid
        l-load bid_pay#0 0                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,bid_pay#0
        gtxns Amount                                                                                  (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,amount_to_be_paid#0,tmp%12#0
        l-load amount_to_be_paid#0 1                                                                  (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,tmp%12#0,amount_to_be_paid#0
        ==                                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,tmp%13#0
        assert                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0
        // marketplace_demo/marketplace_with_immutable_struct.py:229
        // deposited=listing.deposited,
        f-load listing#0                                                                              (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,listing#0
        l-store-copy listing#0 0                                                                      (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,listing#0,listing#0 (copy)
        extract 0 8                                                                                   (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,listing#0,aggregate%extract%3#0
        // marketplace_demo/marketplace_with_immutable_struct.py:230
        // unitaryPrice=listing.unitaryPrice,
        l-load listing#0 1                                                                            (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,aggregate%extract%3#0,listing#0
        extract 8 8                                                                                   (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,aggregate%extract%3#0,aggregate%extract%4#0
        // marketplace_demo/marketplace_with_immutable_struct.py:231
        // bidder=Txn.sender,
        txn Sender                                                                                    (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,aggregate%extract%3#0,aggregate%extract%4#0,tmp%14#0
        // marketplace_demo/marketplace_with_immutable_struct.py:228-234
        // self.listings[key] = ListingValue(
        //     deposited=listing.deposited,
        //     unitaryPrice=listing.unitaryPrice,
        //     bidder=Txn.sender,
        //     bid=quantity,
        //     bidUnitaryPrice=unitary_price,
        // )
        l-load aggregate%extract%3#0 2                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,aggregate%extract%4#0,tmp%14#0,aggregate%extract%3#0
        l-load aggregate%extract%4#0 2                                                                (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,tmp%14#0,aggregate%extract%3#0,aggregate%extract%4#0
        concat                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,tmp%14#0,aggregate%head%4#0
        l-load tmp%14#0 1                                                                             (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,aggregate%head%4#0,tmp%14#0
        concat                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,quantity#0,aggregate%head%5#0
        l-load quantity#0 1                                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,aggregate%head%5#0,quantity#0
        itob                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,aggregate%head%5#0,aggregate%val_as_bytes%4#0
        l-load aggregate%head%5#0 1                                                                   (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,aggregate%val_as_bytes%4#0,aggregate%head%5#0
        l-load aggregate%val_as_bytes%4#0 1                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,aggregate%head%5#0,aggregate%val_as_bytes%4#0
        concat                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | unitary_price#0,aggregate%head%6#0
        l-load unitary_price#0 1                                                                      (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%head%6#0,unitary_price#0
        itob                                                                                          (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%head%6#0,aggregate%val_as_bytes%5#0
        l-load aggregate%head%6#0 1                                                                   (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%val_as_bytes%5#0,aggregate%head%6#0
        l-load aggregate%val_as_bytes%5#0 1                                                           (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%head%6#0,aggregate%val_as_bytes%5#0
        concat                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%head%7#0
        f-load box_prefixed_key%0#0                                                                   (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | aggregate%head%7#0,box_prefixed_key%0#0
        l-load aggregate%head%7#0 1                                                                   (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | box_prefixed_key%0#0,aggregate%head%7#0
        box_put                                                                                       (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:200
        // @arc4.abimethod
        int 1                                                                                         (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | 1
        return                                                                                        (𝕗) asset#0,bid_pay#0,quantity#0,unitary_price#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 |


// test_cases.marketplace_demo.marketplace_with_immutable_struct.DigitalMarketplaceWithImmStruct.accept_bid[routing]() -> void:
subroutine accept_bid:
    accept_bid_block@0:
        // marketplace_demo/marketplace_with_immutable_struct.py:236
        // @arc4.abimethod(name="acceptBid")
        txna ApplicationArgs 1                                                                        reinterpret_Encoded(uint64)%0#0
        btoi                                                                                          asset#0
        l-store-copy asset#0 0                                                                        asset#0,asset#0
        f-store asset#0                                                                               (𝕗) asset#0 | asset#0
        txna ApplicationArgs 2                                                                        (𝕗) asset#0 | asset#0,reinterpret_Encoded(uint64)%1#0
        btoi                                                                                          (𝕗) asset#0 | asset#0,nonce#0
        // marketplace_demo/marketplace_with_immutable_struct.py:238
        // key = ListingKey(owner=Txn.sender, asset=asset.id, nonce=nonce)
        txn Sender                                                                                    (𝕗) asset#0 | asset#0,nonce#0,tmp%0#1
        l-load asset#0 2                                                                              (𝕗) asset#0 | nonce#0,tmp%0#1,asset#0
        itob                                                                                          (𝕗) asset#0 | nonce#0,tmp%0#1,aggregate%val_as_bytes%0#0
        l-load tmp%0#1 1                                                                              (𝕗) asset#0 | nonce#0,aggregate%val_as_bytes%0#0,tmp%0#1
        l-load aggregate%val_as_bytes%0#0 1                                                           (𝕗) asset#0 | nonce#0,tmp%0#1,aggregate%val_as_bytes%0#0
        concat                                                                                        (𝕗) asset#0 | nonce#0,aggregate%head%1#0
        l-load nonce#0 1                                                                              (𝕗) asset#0 | aggregate%head%1#0,nonce#0
        itob                                                                                          (𝕗) asset#0 | aggregate%head%1#0,aggregate%val_as_bytes%1#0
        l-load aggregate%head%1#0 1                                                                   (𝕗) asset#0 | aggregate%val_as_bytes%1#0,aggregate%head%1#0
        l-load aggregate%val_as_bytes%1#0 1                                                           (𝕗) asset#0 | aggregate%head%1#0,aggregate%val_as_bytes%1#0
        concat                                                                                        (𝕗) asset#0 | key#0
        // marketplace_demo/marketplace_with_immutable_struct.py:240
        // listing = self.listings[key]
        byte 0x6c697374696e6773                                                                       (𝕗) asset#0 | key#0,0x6c697374696e6773
        l-load key#0 1                                                                                (𝕗) asset#0 | 0x6c697374696e6773,key#0
        concat                                                                                        (𝕗) asset#0 | box_prefixed_key%0#0
        l-store-copy box_prefixed_key%0#0 0                                                           (𝕗) asset#0 | box_prefixed_key%0#0,box_prefixed_key%0#0
        f-store box_prefixed_key%0#0                                                                  (𝕗) asset#0,box_prefixed_key%0#0 | box_prefixed_key%0#0
        l-load box_prefixed_key%0#0 0                                                                 (𝕗) asset#0,box_prefixed_key%0#0 | box_prefixed_key%0#0
        box_get                                                                                       (𝕗) asset#0,box_prefixed_key%0#0 | listing#0,aggregate%box_get%1#0
        l-store aggregate%box_get%1#0 1                                                               (𝕗) asset#0,box_prefixed_key%0#0 | aggregate%box_get%1#0,listing#0
        l-store-copy listing#0 1                                                                      (𝕗) asset#0,box_prefixed_key%0#0 | listing#0,aggregate%box_get%1#0,listing#0
        f-store listing#0                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0,aggregate%box_get%1#0
        l-load aggregate%box_get%1#0 0                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0,aggregate%box_get%1#0
        assert // check self.listings entry exists                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0
        // marketplace_demo/marketplace_with_immutable_struct.py:241
        // assert listing.bidder != Account()
        l-load-copy listing#0 0                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0,listing#0 (copy)
        extract 16 32                                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0,aggregate%extract%0#0
        l-store-copy aggregate%extract%0#0 0                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0 | listing#0,aggregate%extract%0#0,aggregate%extract%0#0
        f-store aggregate%extract%0#0                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,aggregate%extract%0#0
        global ZeroAddress                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,aggregate%extract%0#0,tmp%2#0
        l-load aggregate%extract%0#0 1                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,tmp%2#0,aggregate%extract%0#0
        l-load tmp%2#0 1                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,aggregate%extract%0#0,tmp%2#0
        !=                                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,tmp%3#0
        assert                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0
        // marketplace_demo/marketplace_with_immutable_struct.py:243
        // min_quantity = listing.deposited if listing.deposited < listing.bid else listing.bid
        l-load-copy listing#0 0                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,listing#0 (copy)
        int 0                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,listing#0 (copy),0
        extract_uint64                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | listing#0,values%1#0
        l-store-copy values%1#0 1                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0 | values%1#0,listing#0,values%1#0
        f-store values%1#0                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0 | values%1#0,listing#0
        l-load listing#0 0                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0 | values%1#0,listing#0
        int 48                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0 | values%1#0,listing#0,48
        extract_uint64                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0 | values%1#0,values%2#0
        l-store-copy values%2#0 0                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0 | values%1#0,values%2#0,values%2#0
        f-store values%2#0                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | values%1#0,values%2#0
        l-load values%1#0 1                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | values%2#0,values%1#0
        l-load values%2#0 1                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | values%1#0,values%2#0
        <                                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | tmp%4#0
        bz accept_bid_ternary_false@3 ; b accept_bid_ternary_true@2                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 |

    accept_bid_ternary_true@2:                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 |
        f-load values%1#0                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | min_quantity#0
        x-store min_quantity#0                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 |
        b accept_bid_ternary_merge@4                                                                  (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 |

    accept_bid_ternary_false@3:                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 |
        f-load values%2#0                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | min_quantity#0
        x-store min_quantity#0                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 |
        b accept_bid_ternary_merge@4                                                                  (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 |

    accept_bid_ternary_merge@4:                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:246
        // min_quantity, listing.bidUnitaryPrice, asset.decimals
        f-load listing#0                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0
        l-store-copy listing#0 0                                                                      (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0,listing#0 (copy)
        int 56                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0,listing#0 (copy),56
        extract_uint64                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0,price#0
        f-load asset#0                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0,price#0,asset#0
        l-store-copy asset#0 1                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0,asset#0,price#0,asset#0 (copy)
        asset_params_get AssetDecimals                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0,asset#0,price#0,asset_decimals#0,check%0#0
        assert // asset exists                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0,asset#0,price#0,asset_decimals#0
        // marketplace_demo/marketplace_with_immutable_struct.py:69
        // amount_not_scaled_high, amount_not_scaled_low = op.mulw(price, quantity)
        l-load-copy price#0 1                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | (𝕏) min_quantity#0 | listing#0,asset#0,price#0,asset_decimals#0,price#0 (copy)
        x-load min_quantity#0                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,asset_decimals#0,price#0 (copy),min_quantity#0
        l-store-copy min_quantity#0 2                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,asset_decimals#0,price#0 (copy),min_quantity#0 (copy)
        mulw                                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:70
        // scaling_factor_high, scaling_factor_low = op.expw(10, asset_decimals)
        int 10                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,asset_decimals#0,amount_not_scaled_high#0,amount_not_scaled_low#0,10
        l-load asset_decimals#0 3                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_not_scaled_high#0,amount_not_scaled_low#0,10,asset_decimals#0
        expw                                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        // marketplace_demo/marketplace_with_immutable_struct.py:71-73
        // _quotient_high, amount_to_be_paid, _remainder_high, _remainder_low = op.divmodw(
        //     amount_not_scaled_high, amount_not_scaled_low, scaling_factor_high, scaling_factor_low
        // )
        l-load amount_not_scaled_high#0 3                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0
        l-load amount_not_scaled_low#0 3                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,scaling_factor_high#0,scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0
        l-load scaling_factor_high#0 3                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,scaling_factor_low#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0
        l-load scaling_factor_low#0 3                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_not_scaled_high#0,amount_not_scaled_low#0,scaling_factor_high#0,scaling_factor_low#0
        divmodw                                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,_quotient_high#0,amount_to_be_paid#0,_remainder_high#0,_remainder_low#0
        pop 1                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,_quotient_high#0,amount_to_be_paid#0,_remainder_high#0
        pop 1                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,_quotient_high#0,amount_to_be_paid#0
        l-store amount_to_be_paid#0 1                                                                 (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_to_be_paid#0,_quotient_high#0
        l-store _quotient_high#0 0                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_to_be_paid#0,_quotient_high#0
        // marketplace_demo/marketplace_with_immutable_struct.py:74
        // assert _quotient_high == 0
        l-load _quotient_high#0 0                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_to_be_paid#0,_quotient_high#0
        !                                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_to_be_paid#0,tmp%8#1
        assert                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_to_be_paid#0
        // marketplace_demo/marketplace_with_immutable_struct.py:249
        // itxn.Payment(receiver=Txn.sender, amount=best_bid_amount).submit()
        itxn_begin                                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_to_be_paid#0
        txn Sender                                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,amount_to_be_paid#0,inner_txn_params%0%%param_Receiver_idx_0#0
        l-load amount_to_be_paid#0 1                                                                  (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,inner_txn_params%0%%param_Receiver_idx_0#0,amount_to_be_paid#0
        itxn_field Amount                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,inner_txn_params%0%%param_Receiver_idx_0#0
        l-load inner_txn_params%0%%param_Receiver_idx_0#0 0                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,inner_txn_params%0%%param_Receiver_idx_0#0
        itxn_field Receiver                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0
        int pay                                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,pay
        itxn_field TypeEnum                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0
        int 0                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,0
        itxn_field Fee                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0
        itxn_submit                                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0
        // marketplace_demo/marketplace_with_immutable_struct.py:251-253
        // itxn.AssetTransfer(
        //     xfer_asset=asset, asset_receiver=listing.bidder, asset_amount=min_quantity
        // ).submit()
        itxn_begin                                                                                    (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0
        l-load-copy min_quantity#0 0                                                                  (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,min_quantity#0 (copy)
        itxn_field AssetAmount                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0
        f-load aggregate%extract%0#0                                                                  (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,min_quantity#0,aggregate%extract%0#0
        l-store-copy aggregate%extract%0#0 1                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,aggregate%extract%0#0,min_quantity#0,aggregate%extract%0#0 (copy)
        itxn_field AssetReceiver                                                                      (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,asset#0,price#0,aggregate%extract%0#0,min_quantity#0
        l-load asset#0 3                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,price#0,aggregate%extract%0#0,min_quantity#0,asset#0
        itxn_field XferAsset                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,price#0,aggregate%extract%0#0,min_quantity#0
        // marketplace_demo/marketplace_with_immutable_struct.py:251
        // itxn.AssetTransfer(
        int axfer                                                                                     (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,price#0,aggregate%extract%0#0,min_quantity#0,axfer
        itxn_field TypeEnum                                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,price#0,aggregate%extract%0#0,min_quantity#0
        int 0                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,price#0,aggregate%extract%0#0,min_quantity#0,0
        itxn_field Fee                                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,price#0,aggregate%extract%0#0,min_quantity#0
        // marketplace_demo/marketplace_with_immutable_struct.py:251-253
        // itxn.AssetTransfer(
        //     xfer_asset=asset, asset_receiver=listing.bidder, asset_amount=min_quantity
        // ).submit()
        itxn_submit                                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | listing#0,price#0,aggregate%extract%0#0,min_quantity#0
        // marketplace_demo/marketplace_with_immutable_struct.py:258
        // unitaryPrice=listing.unitaryPrice,
        l-load listing#0 3                                                                            (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,min_quantity#0,listing#0
        extract 8 8                                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,min_quantity#0,aggregate%extract%4#0
        // marketplace_demo/marketplace_with_immutable_struct.py:259
        // deposited=listing.deposited - min_quantity,
        f-load values%1#0                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,min_quantity#0,aggregate%extract%4#0,values%1#0
        l-load-copy min_quantity#0 2                                                                  (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,min_quantity#0,aggregate%extract%4#0,values%1#0,min_quantity#0 (copy)
        -                                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,min_quantity#0,aggregate%extract%4#0,tmp%6#0
        // marketplace_demo/marketplace_with_immutable_struct.py:260
        // bid=listing.bid - min_quantity,
        f-load values%2#0                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,min_quantity#0,aggregate%extract%4#0,tmp%6#0,values%2#0
        l-load min_quantity#0 3                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,aggregate%extract%4#0,tmp%6#0,values%2#0,min_quantity#0
        -                                                                                             (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,aggregate%extract%4#0,tmp%6#0,tmp%7#0
        // marketplace_demo/marketplace_with_immutable_struct.py:255-261
        // self.listings[key] = ListingValue(
        //     bidder=listing.bidder,
        //     bidUnitaryPrice=listing.bidUnitaryPrice,
        //     unitaryPrice=listing.unitaryPrice,
        //     deposited=listing.deposited - min_quantity,
        //     bid=listing.bid - min_quantity,
        // )
        l-load tmp%6#0 1                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,aggregate%extract%4#0,tmp%7#0,tmp%6#0
        itob                                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,aggregate%extract%4#0,tmp%7#0,aggregate%val_as_bytes%2#0
        l-load aggregate%extract%4#0 2                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,tmp%7#0,aggregate%val_as_bytes%2#0,aggregate%extract%4#0
        concat                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%extract%0#0,tmp%7#0,aggregate%head%4#0
        l-load aggregate%extract%0#0 2                                                                (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,tmp%7#0,aggregate%head%4#0,aggregate%extract%0#0
        concat                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,tmp%7#0,aggregate%head%5#0
        l-load tmp%7#0 1                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%head%5#0,tmp%7#0
        itob                                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%head%5#0,aggregate%val_as_bytes%4#0
        l-load aggregate%head%5#0 1                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%val_as_bytes%4#0,aggregate%head%5#0
        l-load aggregate%val_as_bytes%4#0 1                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%head%5#0,aggregate%val_as_bytes%4#0
        concat                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | price#0,aggregate%head%6#0
        l-load price#0 1                                                                              (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | aggregate%head%6#0,price#0
        itob                                                                                          (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | aggregate%head%6#0,aggregate%val_as_bytes%5#0
        l-load aggregate%head%6#0 1                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | aggregate%val_as_bytes%5#0,aggregate%head%6#0
        l-load aggregate%val_as_bytes%5#0 1                                                           (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | aggregate%head%6#0,aggregate%val_as_bytes%5#0
        concat                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | aggregate%head%7#0
        f-load box_prefixed_key%0#0                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | aggregate%head%7#0,box_prefixed_key%0#0
        l-load aggregate%head%7#0 1                                                                   (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | box_prefixed_key%0#0,aggregate%head%7#0
        box_put                                                                                       (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 |
        // marketplace_demo/marketplace_with_immutable_struct.py:236
        // @arc4.abimethod(name="acceptBid")
        int 1                                                                                         (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 | 1
        return                                                                                        (𝕗) asset#0,box_prefixed_key%0#0,listing#0,aggregate%extract%0#0,values%1#0,values%2#0 |



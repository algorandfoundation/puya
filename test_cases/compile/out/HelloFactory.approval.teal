#pragma version 10

test_cases.compile.factory.HelloFactory.approval_program:
    // compile/factory.py:24
    // class HelloFactory(ARC4Contract):
    callsub __puya_arc4_router__
    return


// test_cases.compile.factory.HelloFactory.__puya_arc4_router__() -> uint64:
__puya_arc4_router__:
    // compile/factory.py:24
    // class HelloFactory(ARC4Contract):
    proto 0 1
    txn NumAppArgs
    bz __puya_arc4_router___bare_routing@15
    method "test_logicsig()address"
    method "test_compile_contract()void"
    method "test_compile_contract_tmpl()void"
    method "test_compile_contract_prfx()void"
    method "test_compile_contract_large()void"
    method "test_arc4_create()void"
    method "test_arc4_create_tmpl()void"
    method "test_arc4_create_prfx()void"
    method "test_arc4_create_large()void"
    method "test_arc4_update()void"
    method "test_other_constants()void"
    txna ApplicationArgs 0
    match __puya_arc4_router___test_logicsig_route@2 __puya_arc4_router___test_compile_contract_route@3 __puya_arc4_router___test_compile_contract_tmpl_route@4 __puya_arc4_router___test_compile_contract_prfx_route@5 __puya_arc4_router___test_compile_contract_large_route@6 __puya_arc4_router___test_arc4_create_route@7 __puya_arc4_router___test_arc4_create_tmpl_route@8 __puya_arc4_router___test_arc4_create_prfx_route@9 __puya_arc4_router___test_arc4_create_large_route@10 __puya_arc4_router___test_arc4_update_route@11 __puya_arc4_router___test_other_constants_route@12
    int 0
    retsub

__puya_arc4_router___test_logicsig_route@2:
    // compile/factory.py:26
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_logicsig
    byte 0x151f7c75
    swap
    concat
    log
    int 1
    retsub

__puya_arc4_router___test_compile_contract_route@3:
    // compile/factory.py:30
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_compile_contract
    int 1
    retsub

__puya_arc4_router___test_compile_contract_tmpl_route@4:
    // compile/factory.py:61
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_compile_contract_tmpl
    int 1
    retsub

__puya_arc4_router___test_compile_contract_prfx_route@5:
    // compile/factory.py:96
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_compile_contract_prfx
    int 1
    retsub

__puya_arc4_router___test_compile_contract_large_route@6:
    // compile/factory.py:129
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_compile_contract_large
    int 1
    retsub

__puya_arc4_router___test_arc4_create_route@7:
    // compile/factory.py:160
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_arc4_create
    int 1
    retsub

__puya_arc4_router___test_arc4_create_tmpl_route@8:
    // compile/factory.py:177
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_arc4_create_tmpl
    int 1
    retsub

__puya_arc4_router___test_arc4_create_prfx_route@9:
    // compile/factory.py:198
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_arc4_create_prfx
    int 1
    retsub

__puya_arc4_router___test_arc4_create_large_route@10:
    // compile/factory.py:221
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_arc4_create_large
    int 1
    retsub

__puya_arc4_router___test_arc4_update_route@11:
    // compile/factory.py:236
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_arc4_update
    int 1
    retsub

__puya_arc4_router___test_other_constants_route@12:
    // compile/factory.py:270
    // @arc4.abimethod()
    txn OnCompletion
    !
    assert // OnCompletion is NoOp
    txn ApplicationID
    assert // is not creating
    callsub test_other_constants
    int 1
    retsub

__puya_arc4_router___bare_routing@15:
    // compile/factory.py:24
    // class HelloFactory(ARC4Contract):
    txn OnCompletion
    bnz __puya_arc4_router___after_if_else@19
    txn ApplicationID
    !
    assert // is creating
    int 1
    retsub

__puya_arc4_router___after_if_else@19:
    // compile/factory.py:24
    // class HelloFactory(ARC4Contract):
    int 0
    retsub


// test_cases.compile.factory.HelloFactory.test_logicsig() -> bytes:
test_logicsig:
    // compile/factory.py:26-27
    // @arc4.abimethod()
    // def test_logicsig(self) -> arc4.Address:
    proto 0 1
    // compile/factory.py:28
    // return arc4.Address(compile_logicsig(always_approve_sig).account)
    addr U3ZXEUNFRSUDPPNFC6U7OBYO4S4AUOEP4RDBI23L2Q5TX3K5LTSVWQOKFM
    retsub


// test_cases.compile.factory.HelloFactory.test_compile_contract() -> void:
test_compile_contract:
    // compile/factory.py:30-31
    // @arc4.abimethod()
    // def test_compile_contract(self) -> None:
    proto 0 0
    // compile/factory.py:35-41
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create(string)void"), arc4.String("hello")),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_bytes=1,
    // )
    // .submit()
    itxn_begin
    // compile/factory.py:39
    // global_num_bytes=1,
    int 1
    itxn_field GlobalNumByteSlice
    // compile/factory.py:32-33
    // # create app
    // compiled = compile_contract(Hello)
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQAmAQhncmVldGluZzEYQAADiACRiAABQ4oAATEbQQBfggMEIN86VAQkN408BNCiggA2GgCOAwACABUAICOJMRkURDEYFEQ2GgFXAgCIAD8iiTEZgQUSRDEYRCKJMRkURDEYRDYaAVcCAIgAKkkVFlcGAkxQgAQVH3x1TFCwIomBBDEZjgEAAiOJMRhEIomKAQAoi/9niYoBASMoZUSAASBQi/9QiYoAACiAAGeJ
    itxn_field ApprovalProgramPages
    // compile/factory.py:36
    // app_args=(arc4.arc4_signature("create(string)void"), arc4.String("hello")),
    method "create(string)void"
    itxn_field ApplicationArgs
    byte 0x000568656c6c6f
    itxn_field ApplicationArgs
    // compile/factory.py:35
    // itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:35-41
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create(string)void"), arc4.String("hello")),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_bytes=1,
    // )
    // .submit()
    itxn_submit
    // compile/factory.py:35-42
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create(string)void"), arc4.String("hello")),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_bytes=1,
    // )
    // .submit()
    // .created_app
    itxn CreatedApplicationID
    // compile/factory.py:45-49
    // # call the new app
    // txn = itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    //     app_id=hello_app,
    // ).submit()
    itxn_begin
    dup
    itxn_field ApplicationID
    // compile/factory.py:47
    // app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    method "greet(string)string"
    itxn_field ApplicationArgs
    byte 0x0005776f726c64
    itxn_field ApplicationArgs
    // compile/factory.py:45-46
    // # call the new app
    // txn = itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:45-49
    // # call the new app
    // txn = itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    //     app_id=hello_app,
    // ).submit()
    itxn_submit
    itxn LastLog
    // compile/factory.py:50
    // result = arc4.String.from_log(txn.last_log)
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    // compile/factory.py:52-57
    // # delete the app
    // itxn.ApplicationCall(
    //     app_id=hello_app,
    //     app_args=(arc4.arc4_signature("delete()void"),),
    //     on_completion=OnCompleteAction.DeleteApplication,
    // ).submit()
    itxn_begin
    // compile/factory.py:56
    // on_completion=OnCompleteAction.DeleteApplication,
    int DeleteApplication
    itxn_field OnCompletion
    // compile/factory.py:55
    // app_args=(arc4.arc4_signature("delete()void"),),
    method "delete()void"
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationID
    // compile/factory.py:52-53
    // # delete the app
    // itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:52-57
    // # delete the app
    // itxn.ApplicationCall(
    //     app_id=hello_app,
    //     app_args=(arc4.arc4_signature("delete()void"),),
    //     on_completion=OnCompleteAction.DeleteApplication,
    // ).submit()
    itxn_submit
    // compile/factory.py:59
    // assert result == "hello world"
    byte 0x000b68656c6c6f20776f726c64
    ==
    assert
    retsub


// test_cases.compile.factory.HelloFactory.test_compile_contract_tmpl() -> void:
test_compile_contract_tmpl:
    // compile/factory.py:61-62
    // @arc4.abimethod()
    // def test_compile_contract_tmpl(self) -> None:
    proto 0 0
    // compile/factory.py:67-76
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create()void"),),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_uint=compiled.global_uints,
    //     global_num_bytes=compiled.global_bytes,
    //     local_num_uint=compiled.local_uints,
    //     local_num_bytes=compiled.local_bytes,
    // )
    // .submit()
    itxn_begin
    // compile/factory.py:65
    // compiled = compile_contract(HelloTmpl, template_vars={"GREETING": greeting})
    int 1
    itxn_field GlobalNumByteSlice
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQAmAQhncmVldGluZzEYQAADiACAiAABQ4oAATEbQQBWggMETFxhugQkN408BNCiggA2GgCOAwACAAwAFyOJMRkURDEYFEQiiTEZgQUSRDEYRCKJMRkURDEYRDYaAVcCAIgAIkkVFlcGAkxQgAQVH3x1TFCwIomBBDEZjgEAAiOJMRhEIomKAQEjKGVEgAEgUIv/UImKAAAogAR0bXBsZ4k=
    itxn_field ApprovalProgramPages
    // compile/factory.py:68
    // app_args=(arc4.arc4_signature("create()void"),),
    method "create()void"
    itxn_field ApplicationArgs
    // compile/factory.py:67
    // itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:67-76
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create()void"),),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_uint=compiled.global_uints,
    //     global_num_bytes=compiled.global_bytes,
    //     local_num_uint=compiled.local_uints,
    //     local_num_bytes=compiled.local_bytes,
    // )
    // .submit()
    itxn_submit
    // compile/factory.py:67-77
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create()void"),),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_uint=compiled.global_uints,
    //     global_num_bytes=compiled.global_bytes,
    //     local_num_uint=compiled.local_uints,
    //     local_num_bytes=compiled.local_bytes,
    // )
    // .submit()
    // .created_app
    itxn CreatedApplicationID
    // compile/factory.py:80-84
    // # call the new app
    // txn = itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    //     app_id=hello_app,
    // ).submit()
    itxn_begin
    dup
    itxn_field ApplicationID
    // compile/factory.py:82
    // app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    method "greet(string)string"
    itxn_field ApplicationArgs
    byte 0x0005776f726c64
    itxn_field ApplicationArgs
    // compile/factory.py:80-81
    // # call the new app
    // txn = itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:80-84
    // # call the new app
    // txn = itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    //     app_id=hello_app,
    // ).submit()
    itxn_submit
    itxn LastLog
    // compile/factory.py:85
    // result = arc4.String.from_log(txn.last_log)
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    // compile/factory.py:87-92
    // # delete the app
    // itxn.ApplicationCall(
    //     app_id=hello_app,
    //     app_args=(arc4.arc4_signature("delete()void"),),
    //     on_completion=OnCompleteAction.DeleteApplication,
    // ).submit()
    itxn_begin
    // compile/factory.py:91
    // on_completion=OnCompleteAction.DeleteApplication,
    int DeleteApplication
    itxn_field OnCompletion
    // compile/factory.py:90
    // app_args=(arc4.arc4_signature("delete()void"),),
    method "delete()void"
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationID
    // compile/factory.py:87-88
    // # delete the app
    // itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:87-92
    // # delete the app
    // itxn.ApplicationCall(
    //     app_id=hello_app,
    //     app_args=(arc4.arc4_signature("delete()void"),),
    //     on_completion=OnCompleteAction.DeleteApplication,
    // ).submit()
    itxn_submit
    // compile/factory.py:94
    // assert result == "hey world"
    byte 0x000968657920776f726c64
    ==
    assert
    retsub


// test_cases.compile.factory.HelloFactory.test_compile_contract_prfx() -> void:
test_compile_contract_prfx:
    // compile/factory.py:96-97
    // @arc4.abimethod()
    // def test_compile_contract_prfx(self) -> None:
    proto 0 0
    // compile/factory.py:103-109
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create()void"),),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_bytes=compiled.global_bytes,
    // )
    // .submit()
    itxn_begin
    // compile/factory.py:98-101
    // # create app
    // compiled = compile_contract(
    //     HelloPrfx, template_vars={"GREETING": String("hi")}, template_vars_prefix="PRFX_"
    // )
    int 1
    itxn_field GlobalNumByteSlice
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQAmAQhncmVldGluZzEYQAADiACAiAABQ4oAATEbQQBWggMETFxhugQkN408BNCiggA2GgCOAwACAAwAFyOJMRkURDEYFEQiiTEZgQUSRDEYRCKJMRkURDEYRDYaAVcCAIgAIkkVFlcGAkxQgAQVH3x1TFCwIomBBDEZjgEAAiOJMRhEIomKAQEjKGVEgAEgUIv/UImKAAAogAJoaWeJ
    itxn_field ApprovalProgramPages
    // compile/factory.py:104
    // app_args=(arc4.arc4_signature("create()void"),),
    method "create()void"
    itxn_field ApplicationArgs
    // compile/factory.py:103
    // itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:103-109
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create()void"),),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_bytes=compiled.global_bytes,
    // )
    // .submit()
    itxn_submit
    // compile/factory.py:103-110
    // itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("create()void"),),
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     global_num_bytes=compiled.global_bytes,
    // )
    // .submit()
    // .created_app
    itxn CreatedApplicationID
    // compile/factory.py:113-117
    // # call the new app
    // txn = itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    //     app_id=hello_app,
    // ).submit()
    itxn_begin
    dup
    itxn_field ApplicationID
    // compile/factory.py:115
    // app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    method "greet(string)string"
    itxn_field ApplicationArgs
    byte 0x0005776f726c64
    itxn_field ApplicationArgs
    // compile/factory.py:113-114
    // # call the new app
    // txn = itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:113-117
    // # call the new app
    // txn = itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("greet(string)string"), arc4.String("world")),
    //     app_id=hello_app,
    // ).submit()
    itxn_submit
    itxn LastLog
    // compile/factory.py:118
    // result = arc4.String.from_log(txn.last_log)
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    // compile/factory.py:120-125
    // # delete the app
    // itxn.ApplicationCall(
    //     app_id=hello_app,
    //     app_args=(arc4.arc4_signature("delete()void"),),
    //     on_completion=OnCompleteAction.DeleteApplication,
    // ).submit()
    itxn_begin
    // compile/factory.py:124
    // on_completion=OnCompleteAction.DeleteApplication,
    int DeleteApplication
    itxn_field OnCompletion
    // compile/factory.py:123
    // app_args=(arc4.arc4_signature("delete()void"),),
    method "delete()void"
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationID
    // compile/factory.py:120-121
    // # delete the app
    // itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:120-125
    // # delete the app
    // itxn.ApplicationCall(
    //     app_id=hello_app,
    //     app_args=(arc4.arc4_signature("delete()void"),),
    //     on_completion=OnCompleteAction.DeleteApplication,
    // ).submit()
    itxn_submit
    // compile/factory.py:127
    // assert result == "hi world"
    byte 0x0008686920776f726c64
    ==
    assert
    retsub


// test_cases.compile.factory.HelloFactory.test_compile_contract_large() -> void:
test_compile_contract_large:
    // compile/factory.py:129-130
    // @arc4.abimethod()
    // def test_compile_contract_large(self) -> None:
    proto 0 0
    // compile/factory.py:134-140
    // itxn.ApplicationCall(
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     extra_program_pages=compiled.extra_program_pages,
    //     global_num_bytes=compiled.global_bytes,
    // )
    // .submit()
    itxn_begin
    // compile/factory.py:131-132
    // # create app
    // compiled = compile_contract(LargeProgram)
    int 2
    itxn_field ExtraProgramPages
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQCIAAFDigABMRtBADiCAgT15P1NBCQ3jTw2GgCOAgACABgjiTEZFEQxGESIACQWgAQVH3x1TFCwIokxGYEFEkQxGEQiiTEZQAAGMRgURCKJI4mKAAGIAAIViYoAAYCAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==
    itxn_field ApprovalProgramPages
    byte base64 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIk=
    itxn_field ApprovalProgramPages
    // compile/factory.py:134
    // itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:134-140
    // itxn.ApplicationCall(
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     extra_program_pages=compiled.extra_program_pages,
    //     global_num_bytes=compiled.global_bytes,
    // )
    // .submit()
    itxn_submit
    // compile/factory.py:134-141
    // itxn.ApplicationCall(
    //     approval_program=compiled.approval_program,
    //     clear_state_program=compiled.clear_state_program,
    //     extra_program_pages=compiled.extra_program_pages,
    //     global_num_bytes=compiled.global_bytes,
    // )
    // .submit()
    // .created_app
    itxn CreatedApplicationID
    // compile/factory.py:144-148
    // # call the new app
    // txn = itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("get_big_bytes_length()uint64"),),
    //     app_id=hello_app,
    // ).submit()
    itxn_begin
    dup
    itxn_field ApplicationID
    // compile/factory.py:146
    // app_args=(arc4.arc4_signature("get_big_bytes_length()uint64"),),
    method "get_big_bytes_length()uint64"
    itxn_field ApplicationArgs
    // compile/factory.py:144-145
    // # call the new app
    // txn = itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:144-148
    // # call the new app
    // txn = itxn.ApplicationCall(
    //     app_args=(arc4.arc4_signature("get_big_bytes_length()uint64"),),
    //     app_id=hello_app,
    // ).submit()
    itxn_submit
    itxn LastLog
    // compile/factory.py:149
    // result = arc4.UInt64.from_log(txn.last_log)
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    // compile/factory.py:151-156
    // # delete the app
    // itxn.ApplicationCall(
    //     app_id=hello_app,
    //     app_args=(arc4.arc4_signature("delete()void"),),
    //     on_completion=OnCompleteAction.DeleteApplication,
    // ).submit()
    itxn_begin
    // compile/factory.py:155
    // on_completion=OnCompleteAction.DeleteApplication,
    int DeleteApplication
    itxn_field OnCompletion
    // compile/factory.py:154
    // app_args=(arc4.arc4_signature("delete()void"),),
    method "delete()void"
    itxn_field ApplicationArgs
    swap
    itxn_field ApplicationID
    // compile/factory.py:151-152
    // # delete the app
    // itxn.ApplicationCall(
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    // compile/factory.py:151-156
    // # delete the app
    // itxn.ApplicationCall(
    //     app_id=hello_app,
    //     app_args=(arc4.arc4_signature("delete()void"),),
    //     on_completion=OnCompleteAction.DeleteApplication,
    // ).submit()
    itxn_submit
    // compile/factory.py:158
    // assert result == 4096
    byte 0x0000000000001000
    b==
    assert
    retsub


// test_cases.compile.factory.HelloFactory.test_arc4_create() -> void:
test_arc4_create:
    // compile/factory.py:160-161
    // @arc4.abimethod()
    // def test_arc4_create(self) -> None:
    proto 0 0
    // compile/factory.py:162-163
    // # create app
    // hello_app = arc4.arc4_create(Hello.create, "hello").created_app
    itxn_begin
    int 1
    itxn_field GlobalNumByteSlice
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQAmAQhncmVldGluZzEYQAADiACRiAABQ4oAATEbQQBfggMEIN86VAQkN408BNCiggA2GgCOAwACABUAICOJMRkURDEYFEQ2GgFXAgCIAD8iiTEZgQUSRDEYRCKJMRkURDEYRDYaAVcCAIgAKkkVFlcGAkxQgAQVH3x1TFCwIomBBDEZjgEAAiOJMRhEIomKAQAoi/9niYoBASMoZUSAASBQi/9QiYoAACiAAGeJ
    itxn_field ApprovalProgramPages
    method "create(string)void"
    itxn_field ApplicationArgs
    byte 0x000568656c6c6f
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn CreatedApplicationID
    // compile/factory.py:165-166
    // # call the new app
    // result, _txn = arc4.abi_call(Hello.greet, "world", app_id=hello_app)
    itxn_begin
    dup
    itxn_field ApplicationID
    method "greet(string)string"
    itxn_field ApplicationArgs
    byte 0x0005776f726c64
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn LastLog
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    extract 2 0
    // compile/factory.py:168-173
    // # delete the app
    // arc4.abi_call(
    //     Hello.delete,
    //     app_id=hello_app,
    //     # on_complete is inferred from Hello.delete ARC4 definition
    // )
    itxn_begin
    int DeleteApplication
    itxn_field OnCompletion
    swap
    itxn_field ApplicationID
    method "delete()void"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    // compile/factory.py:175
    // assert result == "hello world"
    byte "hello world"
    ==
    assert
    retsub


// test_cases.compile.factory.HelloFactory.test_arc4_create_tmpl() -> void:
test_arc4_create_tmpl:
    // compile/factory.py:177-178
    // @arc4.abimethod()
    // def test_arc4_create_tmpl(self) -> None:
    proto 0 0
    // compile/factory.py:181-184
    // hello_app = arc4.arc4_create(
    //     HelloTmpl.create,
    //     compiled=compiled,
    // ).created_app
    itxn_begin
    // compile/factory.py:179-180
    // # create app
    // compiled = compile_contract(HelloTmpl, template_vars={"GREETING": String("tmpl2")})
    int 1
    itxn_field GlobalNumByteSlice
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQAmAQhncmVldGluZzEYQAADiACAiAABQ4oAATEbQQBWggMETFxhugQkN408BNCiggA2GgCOAwACAAwAFyOJMRkURDEYFEQiiTEZgQUSRDEYRCKJMRkURDEYRDYaAVcCAIgAIkkVFlcGAkxQgAQVH3x1TFCwIomBBDEZjgEAAiOJMRhEIomKAQEjKGVEgAEgUIv/UImKAAAogAR0bXBsZ4k=
    itxn_field ApprovalProgramPages
    // compile/factory.py:181-184
    // hello_app = arc4.arc4_create(
    //     HelloTmpl.create,
    //     compiled=compiled,
    // ).created_app
    method "create()void"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn CreatedApplicationID
    // compile/factory.py:186-187
    // # call the new app
    // result, _txn = arc4.abi_call(HelloTmpl.greet, "world", app_id=hello_app)
    itxn_begin
    dup
    itxn_field ApplicationID
    method "greet(string)string"
    itxn_field ApplicationArgs
    byte 0x0005776f726c64
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn LastLog
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    extract 2 0
    // compile/factory.py:189-194
    // # delete the app
    // arc4.abi_call(
    //     HelloTmpl.delete,
    //     app_id=hello_app,
    //     # on_complete is inferred from Hello.delete ARC4 definition
    // )
    itxn_begin
    int DeleteApplication
    itxn_field OnCompletion
    swap
    itxn_field ApplicationID
    method "delete()void"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    // compile/factory.py:196
    // assert result == "tmpl2 world"
    byte "tmpl2 world"
    ==
    assert
    retsub


// test_cases.compile.factory.HelloFactory.test_arc4_create_prfx() -> void:
test_arc4_create_prfx:
    // compile/factory.py:198-199
    // @arc4.abimethod()
    // def test_arc4_create_prfx(self) -> None:
    proto 0 0
    // compile/factory.py:204-207
    // hello_app = arc4.arc4_create(
    //     HelloPrfx.create,
    //     compiled=compiled,
    // ).created_app
    itxn_begin
    // compile/factory.py:200-203
    // # create app
    // compiled = compile_contract(
    //     HelloPrfx, template_vars_prefix="PRFX_", template_vars={"GREETING": String("prfx2")}
    // )
    int 1
    itxn_field GlobalNumByteSlice
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQAmAQhncmVldGluZzEYQAADiACAiAABQ4oAATEbQQBWggMETFxhugQkN408BNCiggA2GgCOAwACAAwAFyOJMRkURDEYFEQiiTEZgQUSRDEYRCKJMRkURDEYRDYaAVcCAIgAIkkVFlcGAkxQgAQVH3x1TFCwIomBBDEZjgEAAiOJMRhEIomKAQEjKGVEgAEgUIv/UImKAAAogAVwcmZ4MmeJ
    itxn_field ApprovalProgramPages
    // compile/factory.py:204-207
    // hello_app = arc4.arc4_create(
    //     HelloPrfx.create,
    //     compiled=compiled,
    // ).created_app
    method "create()void"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn CreatedApplicationID
    // compile/factory.py:209-210
    // # call the new app
    // result, _txn = arc4.abi_call(HelloPrfx.greet, "world", app_id=hello_app)
    itxn_begin
    dup
    itxn_field ApplicationID
    method "greet(string)string"
    itxn_field ApplicationArgs
    byte 0x0005776f726c64
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn LastLog
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    extract 2 0
    // compile/factory.py:212-217
    // # delete the app
    // arc4.abi_call(
    //     HelloPrfx.delete,
    //     app_id=hello_app,
    //     # on_complete is inferred from Hello.delete ARC4 definition
    // )
    itxn_begin
    int DeleteApplication
    itxn_field OnCompletion
    swap
    itxn_field ApplicationID
    method "delete()void"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    // compile/factory.py:219
    // assert result == "prfx2 world"
    byte "prfx2 world"
    ==
    assert
    retsub


// test_cases.compile.factory.HelloFactory.test_arc4_create_large() -> void:
test_arc4_create_large:
    // compile/factory.py:221-222
    // @arc4.abimethod()
    // def test_arc4_create_large(self) -> None:
    proto 0 0
    // compile/factory.py:223-224
    // # create app
    // app = arc4.arc4_create(LargeProgram).created_app
    itxn_begin
    int 2
    itxn_field ExtraProgramPages
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQCIAAFDigABMRtBADiCAgT15P1NBCQ3jTw2GgCOAgACABgjiTEZFEQxGESIACQWgAQVH3x1TFCwIokxGYEFEkQxGEQiiTEZQAAGMRgURCKJI4mKAAGIAAIViYoAAYCAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==
    itxn_field ApprovalProgramPages
    byte base64 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIk=
    itxn_field ApprovalProgramPages
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn CreatedApplicationID
    // compile/factory.py:226-227
    // # call the new app
    // result, _txn = arc4.abi_call(LargeProgram.get_big_bytes_length, app_id=app)
    itxn_begin
    dup
    itxn_field ApplicationID
    method "get_big_bytes_length()uint64"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn LastLog
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    btoi
    // compile/factory.py:228
    // assert result == 4096
    int 4096
    ==
    assert
    // compile/factory.py:230-234
    // # delete the app
    // arc4.abi_call(
    //     LargeProgram.delete,
    //     app_id=app,
    // )
    itxn_begin
    int DeleteApplication
    itxn_field OnCompletion
    itxn_field ApplicationID
    method "delete()void"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    retsub


// test_cases.compile.factory.HelloFactory.test_arc4_update() -> void:
test_arc4_update:
    // compile/factory.py:236-237
    // @arc4.abimethod()
    // def test_arc4_update(self) -> None:
    proto 0 0
    // compile/factory.py:238-250
    // # create app
    // app = arc4.arc4_create(
    //     HelloTmpl,
    //     compiled=compile_contract(
    //         HelloTmpl,
    //         template_vars={"GREETING": String("hi")},
    //         extra_program_pages=1,
    //         global_uints=2,
    //         global_bytes=2,
    //         local_bytes=2,
    //         local_uints=2,
    //     ),
    // ).created_app
    itxn_begin
    // compile/factory.py:248
    // local_uints=2,
    int 2
    itxn_field LocalNumUint
    // compile/factory.py:247
    // local_bytes=2,
    int 2
    itxn_field LocalNumByteSlice
    // compile/factory.py:245
    // global_uints=2,
    int 2
    itxn_field GlobalNumUint
    // compile/factory.py:246
    // global_bytes=2,
    int 2
    itxn_field GlobalNumByteSlice
    // compile/factory.py:244
    // extra_program_pages=1,
    int 1
    itxn_field ExtraProgramPages
    // compile/factory.py:241-249
    // compiled=compile_contract(
    //     HelloTmpl,
    //     template_vars={"GREETING": String("hi")},
    //     extra_program_pages=1,
    //     global_uints=2,
    //     global_bytes=2,
    //     local_bytes=2,
    //     local_uints=2,
    // ),
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQAmAQhncmVldGluZzEYQAADiACAiAABQ4oAATEbQQBWggMETFxhugQkN408BNCiggA2GgCOAwACAAwAFyOJMRkURDEYFEQiiTEZgQUSRDEYRCKJMRkURDEYRDYaAVcCAIgAIkkVFlcGAkxQgAQVH3x1TFCwIomBBDEZjgEAAiOJMRhEIomKAQEjKGVEgAEgUIv/UImKAAAogAR0bXBsZ4k=
    itxn_field ApprovalProgramPages
    // compile/factory.py:240
    // HelloTmpl,
    method "create()void"
    itxn_field ApplicationArgs
    // compile/factory.py:238-250
    // # create app
    // app = arc4.arc4_create(
    //     HelloTmpl,
    //     compiled=compile_contract(
    //         HelloTmpl,
    //         template_vars={"GREETING": String("hi")},
    //         extra_program_pages=1,
    //         global_uints=2,
    //         global_bytes=2,
    //         local_bytes=2,
    //         local_uints=2,
    //     ),
    // ).created_app
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn CreatedApplicationID
    // compile/factory.py:252-253
    // # call the new app
    // result, _txn = arc4.abi_call(HelloTmpl.greet, "there", app_id=app)
    itxn_begin
    dup
    itxn_field ApplicationID
    method "greet(string)string"
    itxn_field ApplicationArgs
    byte 0x00057468657265
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn LastLog
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    extract 2 0
    // compile/factory.py:254
    // assert result == "hi there"
    byte "hi there"
    ==
    assert
    // compile/factory.py:256-257
    // # update the app
    // arc4.arc4_update(Hello, app_id=app)
    itxn_begin
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAQAmAQhncmVldGluZzEYQAADiACRiAABQ4oAATEbQQBfggMEIN86VAQkN408BNCiggA2GgCOAwACABUAICOJMRkURDEYFEQ2GgFXAgCIAD8iiTEZgQUSRDEYRCKJMRkURDEYRDYaAVcCAIgAKkkVFlcGAkxQgAQVH3x1TFCwIomBBDEZjgEAAiOJMRhEIomKAQAoi/9niYoBASMoZUSAASBQi/9QiYoAACiAAGeJ
    itxn_field ApprovalProgramPages
    int UpdateApplication
    itxn_field OnCompletion
    dup
    itxn_field ApplicationID
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    // compile/factory.py:259-260
    // # call the updated app
    // result, _txn = arc4.abi_call(Hello.greet, "there", app_id=app)
    itxn_begin
    dup
    itxn_field ApplicationID
    method "greet(string)string"
    itxn_field ApplicationArgs
    byte 0x00057468657265
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn LastLog
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    extract 2 0
    // compile/factory.py:261
    // assert result == "hi there"
    byte "hi there"
    ==
    assert
    // compile/factory.py:263-268
    // # delete the app
    // arc4.abi_call(
    //     Hello.delete,
    //     app_id=app,
    //     # on_complete is inferred from Hello.delete ARC4 definition
    // )
    itxn_begin
    int DeleteApplication
    itxn_field OnCompletion
    itxn_field ApplicationID
    method "delete()void"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    retsub


// test_cases.compile.factory.HelloFactory.test_other_constants() -> void:
test_other_constants:
    // compile/factory.py:270-271
    // @arc4.abimethod()
    // def test_other_constants(self) -> None:
    proto 0 0
    // compile/factory.py:272-285
    // app = arc4.arc4_create(
    //     HelloOtherConstants,
    //     compiled=compile_contract(
    //         HelloOtherConstants,
    //         template_vars={
    //             "NUM": BigUInt(5),
    //             "GREETING": String("hello"),
    //             "ACCOUNT": Account(
    //                 "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ"
    //             ),
    //             "METHOD": arc4.arc4_signature("something()void"),
    //         },
    //     ),
    // ).created_app
    itxn_begin
    // compile/factory.py:274-284
    // compiled=compile_contract(
    //     HelloOtherConstants,
    //     template_vars={
    //         "NUM": BigUInt(5),
    //         "GREETING": String("hello"),
    //         "ACCOUNT": Account(
    //             "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ"
    //         ),
    //         "METHOD": arc4.arc4_signature("something()void"),
    //     },
    // ),
    int 4
    itxn_field GlobalNumByteSlice
    byte base64 CoEBQw==
    itxn_field ClearStateProgramPages
    byte base64 CiACAAEmBQNudW0BMAhncmVldGluZwdhZGRyZXNzBm1ldGhvZDEYQAADiACXiAABQ4oAATEbQQBWggMETFxhugQkN408BFsMI3U2GgCOAwACAAwAFyKJMRkURDEYFEQjiTEZgQUSRDEYRCOJMRkURDEYRDYaAVcCAIgAFUkVFlcGAkxQgAQVH3x1TFCwI4kiiYoBASIoZUQpoBUjCSIoZUQpoEsBIwhMTgJSIiplRIABIFCL/1BMUCIrZURQIicEZURQiYoAACqABHRtcGxnKIABQmcrgCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGcnBIAEAAAAAGeJ
    itxn_field ApprovalProgramPages
    // compile/factory.py:273
    // HelloOtherConstants,
    method "create()void"
    itxn_field ApplicationArgs
    // compile/factory.py:272-285
    // app = arc4.arc4_create(
    //     HelloOtherConstants,
    //     compiled=compile_contract(
    //         HelloOtherConstants,
    //         template_vars={
    //             "NUM": BigUInt(5),
    //             "GREETING": String("hello"),
    //             "ACCOUNT": Account(
    //                 "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ"
    //             ),
    //             "METHOD": arc4.arc4_signature("something()void"),
    //         },
    //     ),
    // ).created_app
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn CreatedApplicationID
    // compile/factory.py:287
    // result, _txn = arc4.abi_call(HelloOtherConstants.greet, "Johnny", app_id=app)
    itxn_begin
    dup
    itxn_field ApplicationID
    method "greet(string)byte[]"
    itxn_field ApplicationArgs
    byte 0x00064a6f686e6e79
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    itxn LastLog
    dup
    extract 4 0
    swap
    extract 0 4
    byte 0x151f7c75
    ==
    assert // ARC4 prefix is valid
    extract 2 0
    // compile/factory.py:290
    // b"hello Johnny5" + Global.zero_address.bytes + arc4.arc4_signature("something()void")
    byte base32 NBSWY3DPEBFG62DONZ4TKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
    method "something()void"
    concat
    // compile/factory.py:289-290
    // assert result == (
    //     b"hello Johnny5" + Global.zero_address.bytes + arc4.arc4_signature("something()void")
    ==
    // compile/factory.py:289-291
    // assert result == (
    //     b"hello Johnny5" + Global.zero_address.bytes + arc4.arc4_signature("something()void")
    // )
    assert
    // compile/factory.py:293-294
    // # delete the app
    // arc4.abi_call(HelloOtherConstants.delete, app_id=app)
    itxn_begin
    int DeleteApplication
    itxn_field OnCompletion
    itxn_field ApplicationID
    method "delete()void"
    itxn_field ApplicationArgs
    int appl
    itxn_field TypeEnum
    int 0
    itxn_field Fee
    itxn_submit
    retsub
